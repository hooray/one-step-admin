
/**
 * 由 Fantastic-admin-discovery 提供技术支持
 * https://hooray.gitee.io/fantastic-admin-discovery/
 * Powered by Fantastic-admin-discovery
 * https://hooray.github.io/fantastic-admin-discovery/
 */
    
import{_ as D}from"./index.3ac8c786.js";import{P as S,u as T,U as j,w as B,W as I,X as h,r as p,o as n,q as u,s as t,x as c,y as r,c as _,R as L,S as N,G as b,D as V,A as g,Y as q,J as k,V as E,B as G,C as M,Z as O}from"./vendor.1e66543d.js";import P from"./index.69276bf9.js";import{_ as z}from"./plugin-vue_export-helper.5a098b48.js";import"./index.727c9c70.js";const F=d=>(G("data-v-1dccc374"),d=d(),M(),d),J={class:"preview-all-mode"},R=F(()=>t("div",{class:"title"},"\u9884\u89C8",-1)),U=["onDblclick"],X={class:"titles"},Y={class:"title"},Z=["onClick"],H={class:"container"},K=["onClick"],Q=S({name:"Dashboard"});function ee(d){const{proxy:i}=O(),a=T();i.$eventBus.on("scrollToWindow",e=>w(e));const v=j(0);B(()=>a.state.settings.previewAllWindows,e=>{e&&(v.value=i.$refs.windows.scrollLeft)}),I(()=>{i.$hotkeys("alt+w",e=>{a.state.window.list.length>0&&(e.preventDefault(),a.state.settings.previewAllWindows?f():a.commit("settings/updateThemeSetting",{previewAllWindows:!0}))})});function y(e){h(()=>{i.$refs.windows.scroll(e,0)})}function w(e){h(()=>{const l=i.$refs[`window-${e}`].offsetLeft;i.$refs.windows.scrollTo({left:l,behavior:"smooth"})})}function f(){a.state.settings.previewAllWindows&&(a.commit("settings/updateThemeSetting",{previewAllWindows:!1}),y(v.value))}function $(e){f(),setTimeout(()=>{w(e)},0)}return(e,l)=>{const C=D,m=p("el-tooltip"),W=p("el-close-bold"),x=p("el-icon"),A=p("el-scrollbar");return n(),u("div",{ref:(s,o)=>{o.windows=s},class:k(["dashboard",{"preview-all":e.$store.state.settings.previewAllWindows}]),onClick:f},[t("div",J,[R,c(m,{content:"\u53EF\u4EE5\u901A\u8FC7\u5FEB\u6377\u952E Alt + W \u5FEB\u901F\u8FDB\u5165\u7A97\u53E3\u9884\u89C8\u754C\u9762",placement:"left","append-to-body":!1},{default:r(()=>[c(C,{name:"el-icon-question",class:"help"})]),_:1})]),e.$store.state.window.list.length>0?(n(),_(E,{key:0,name:"window",tag:"div",class:"dashboard-container"},{default:r(()=>[(n(!0),u(L,null,N(e.$store.state.window.list,s=>(n(),u("div",{key:s.name,ref:`window-${s.name}`,class:"window",onClick:l[1]||(l[1]=b(()=>{},["stop"]))},[t("div",{class:k(["window-container",{preview:e.$store.state.settings.previewAllWindows}])},[t("div",{class:"header",onDblclick:o=>w(s.name)},[t("div",X,[s.title?(n(),_(m,{key:0,effect:"dark",content:s.breadcrumbNeste.map(o=>o.title).join(" / "),placement:"bottom-start","show-after":500,disabled:s.breadcrumbNeste.map(o=>o.title).length==0},{default:r(()=>[t("span",Y,V(s.title),1)]),_:2},1032,["content","disabled"])):g("v-if",!0)]),t("div",{class:"btns",onDblclick:l[0]||(l[0]=b(()=>{},["stop"]))},[t("div",{class:"btn",onClick:o=>e.$window.remove(s.name)},[c(x,null,{default:r(()=>[c(W)]),_:1})],8,Z)],32)],40,U),t("div",H,[c(A,null,{default:r(()=>[s.reload?g("v-if",!0):(n(),_(q(s.name),{key:0,params:s.params},null,8,["params"]))]),_:2},1024)]),t("div",{class:"mask",onClick:o=>$(s.name)},null,8,K)],2)],512))),128))]),_:1})):(n(),_(P,{key:1}))],2)}}const se=Object.assign(Q,{setup:ee});var le=z(se,[["__scopeId","data-v-1dccc374"]]);export{le as default};
