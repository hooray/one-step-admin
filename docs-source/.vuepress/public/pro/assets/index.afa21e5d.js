
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{_ as Q}from"./index.b92ebba1.js";import{_ as W}from"./index.e28240c5.js";import{_ as X}from"./index.af21ac27.js";import{_ as Y}from"./index.a4d9ae54.js";import{$ as Z,a2 as ee,a8 as ae,r as s,al as oe,o as _,G as te,l as e,j as o,P as y,I as M,J as ne,i as m,K as k,k as h,R as d,L as le,M as se,m as ie,H as de}from"./vendor.e2abc40b.js";import{g as re,p,o as ue,a as ce,b as _e}from"./pagination.58abc9fb.js";import me from"./index.844f01fa.js";import{_ as pe}from"./plugin-vue_export-helper.5a098b48.js";import"./index.96ca5980.js";const fe=b=>(le("data-v-0e63af6d"),b=b(),se(),b),ge=d("\u65B0\u589E\u7BA1\u7406\u5458"),he=d("\u5168\u90E8"),be=d("\u7537"),ve=d("\u5973"),we=d("\u4FDD\u5BC6"),Ce=d("\u7B5B \u9009"),xe=d("\u6279\u91CF\u64CD\u4F5C"),ye=d("\u7537"),ke=d("\u5973"),Ve=d("\u4FDD\u5BC6"),$e=d("\u7F16\u8F91"),Me=d(" \u66F4\u591A\u64CD\u4F5C"),ze=fe(()=>de("i",{class:"el-icon-arrow-down el-icon--right"},null,-1)),Le=d("\u91CD\u7F6E\u5BC6\u7801"),Pe=d("\u5220\u9664"),Se=Z({name:"PagesExampleManagerList"});function je(b){const{proxy:r}=ie(),a=ee({loading:!1,formMode:"dialog",formModeProps:{visible:!1,id:""},search:{account:"",name:"",mobile:"",sex:""},searchMore:!1,batch:{enable:!0,selectionDataList:[]},dataList:[]});ae(()=>{i()});function i(){a.value.loading=!0;let n=re();a.value.search.account&&(n.account=a.value.search.account),a.value.search.name&&(n.name=a.value.search.name),a.value.search.mobile&&(n.mobile=a.value.search.mobile),a.value.search.sex!=""&&(n.sex=a.value.search.sex),r.$api.get("pages_example/manager/list",{baseURL:"/mock/",params:n}).then(t=>{a.value.loading=!1,a.value.dataList=t.data.list,p.value.total=t.data.total})}function z(n){ue(n).then(()=>i())}function L(n){ce(n).then(()=>i())}function P(n,t){_e(n,t).then(()=>i())}function S(){a.value.formModeProps.id="",a.value.formModeProps.visible=!0}function j(n){a.value.formModeProps.id=n.id,a.value.formModeProps.visible=!0}function U(n,t){r.$confirm(`\u786E\u8BA4${n?"\u542F\u7528":"\u505C\u7528"}\u300C${t.account}\u300D\u5417\uFF1F`,"\u786E\u8BA4\u4FE1\u606F").then(()=>{r.$api.post("pages_example/manager/change/status",{id:t.id,status:n},{baseURL:"/mock/"}).then(()=>{r.$message.success({message:`\u6A21\u62DF${n?"\u542F\u7528":"\u505C\u7528"}\u6210\u529F`,center:!0})})}).catch(()=>{t.status=!n})}function K(n){r.$confirm(`\u786E\u8BA4\u5C06\u300C${n.account}\u300D\u7684\u5BC6\u7801\u91CD\u7F6E\u4E3A \u201C123456\u201D \u5417\uFF1F`,"\u786E\u8BA4\u4FE1\u606F").then(()=>{r.$api.post("pages_example/manager/password/reset",{id:n.id},{baseURL:"/mock/"}).then(()=>{r.$message.success({message:"\u6A21\u62DF\u91CD\u7F6E\u6210\u529F",center:!0})})}).catch(()=>{})}function D(n){r.$confirm(`\u786E\u8BA4\u5220\u9664\u300C${n.account}\u300D\u7BA1\u7406\u5458\u5417\uFF1F`,"\u786E\u8BA4\u4FE1\u606F").then(()=>{r.$api.post("pages_example/manager/delete",{id:n.id},{baseURL:"/mock/"}).then(()=>{i(),r.$message.success({message:"\u6A21\u62DF\u5220\u9664\u6210\u529F",center:!0})})}).catch(()=>{})}function I(n,t){switch(n){case"resetPassword":K(t);break;case"delete":D(t);break}}return(n,t)=>{const R=Y,f=s("el-button"),C=s("el-input"),g=s("el-form-item"),v=s("el-col"),V=s("el-row"),w=s("el-radio-button"),N=s("el-radio-group"),B=s("el-form"),E=X,A=W,c=s("el-table-column"),x=s("el-tag"),O=s("el-switch"),$=s("el-dropdown-item"),T=s("el-dropdown-menu"),F=s("el-dropdown"),G=s("el-table"),H=s("el-pagination"),J=Q,q=oe("loading");return _(),te("div",null,[e(R,{title:"\u7BA1\u7406\u5458\u7BA1\u7406",content:"\u9875\u9762\u6570\u636E\u4E3A Mock \u793A\u4F8B\u6570\u636E\uFF0C\u975E\u771F\u5B9E\u6570\u636E\u3002"}),e(J,null,{default:o(()=>[e(f,{type:"primary",icon:"el-icon-plus",onClick:S},{default:o(()=>[ge]),_:1}),e(E,{"show-more":"",onToggle:t[4]||(t[4]=l=>a.value.searchMore=l)},{default:o(()=>[e(B,{model:a.value.search,size:"small","label-width":"100px","label-suffix":"\uFF1A"},{default:o(()=>[e(V,null,{default:o(()=>[e(v,{md:8},{default:o(()=>[e(g,{label:"\u5E10\u53F7"},{default:o(()=>[e(C,{modelValue:a.value.search.account,"onUpdate:modelValue":t[0]||(t[0]=l=>a.value.search.account=l),placeholder:"\u8BF7\u8F93\u5165\u5E10\u53F7\uFF0C\u652F\u6301\u6A21\u7CCA\u67E5\u8BE2",clearable:"",onKeydown:y(i,["enter"]),onClear:i},null,8,["modelValue","onKeydown"])]),_:1})]),_:1}),e(v,{md:8},{default:o(()=>[e(g,{label:"\u59D3\u540D"},{default:o(()=>[e(C,{modelValue:a.value.search.name,"onUpdate:modelValue":t[1]||(t[1]=l=>a.value.search.name=l),placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D\uFF0C\u652F\u6301\u6A21\u7CCA\u67E5\u8BE2",clearable:"",onKeydown:y(i,["enter"]),onClear:i},null,8,["modelValue","onKeydown"])]),_:1})]),_:1}),e(v,{md:8},{default:o(()=>[e(g,{label:"\u624B\u673A\u53F7"},{default:o(()=>[e(C,{modelValue:a.value.search.mobile,"onUpdate:modelValue":t[2]||(t[2]=l=>a.value.search.mobile=l),placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",clearable:"",onKeydown:y(i,["enter"]),onClear:i},null,8,["modelValue","onKeydown"])]),_:1})]),_:1})]),_:1}),M(e(V,null,{default:o(()=>[e(v,{md:8},{default:o(()=>[e(g,{label:"\u6027\u522B"},{default:o(()=>[e(N,{modelValue:a.value.search.sex,"onUpdate:modelValue":t[3]||(t[3]=l=>a.value.search.sex=l),onChange:i},{default:o(()=>[e(w,{label:""},{default:o(()=>[he]),_:1}),e(w,{label:"1"},{default:o(()=>[be]),_:1}),e(w,{label:"0"},{default:o(()=>[ve]),_:1}),e(w,{label:"2"},{default:o(()=>[we]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},512),[[ne,a.value.searchMore]]),e(g,null,{default:o(()=>[e(f,{type:"primary",icon:"el-icon-search",onClick:i},{default:o(()=>[Ce]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a.value.batch.enable?(_(),m(A,{key:0,data:a.value.dataList,"selection-data":a.value.batch.selectionDataList,onCheckAll:t[5]||(t[5]=l=>n.$refs.table.toggleAllSelection()),onCheckNull:t[6]||(t[6]=l=>n.$refs.table.clearSelection())},{default:o(()=>[e(f,{size:"small"},{default:o(()=>[xe]),_:1})]),_:1},8,["data","selection-data"])):k("v-if",!0),M(e(G,{ref:(l,u)=>{u.table=l},class:"list-table",data:a.value.dataList,border:"",stripe:"","highlight-current-row":"",onSortChange:P,onSelectionChange:t[7]||(t[7]=l=>a.value.batch.selectionDataList=l)},{default:o(()=>[a.value.batch.enable?(_(),m(c,{key:0,type:"selection",align:"center",fixed:""})):k("v-if",!0),e(c,{prop:"account",sortable:"",label:"\u5E10\u53F7"}),e(c,{prop:"name",label:"\u59D3\u540D",width:"100",align:"center"}),e(c,{prop:"sex",label:"\u6027\u522B",width:"100",align:"center"},{default:o(l=>[l.row.sex==1?(_(),m(x,{key:0,type:"success",size:"small"},{default:o(()=>[ye]),_:1})):l.row.sex==0?(_(),m(x,{key:1,type:"warning",size:"small"},{default:o(()=>[ke]),_:1})):(_(),m(x,{key:2,type:"info",size:"small"},{default:o(()=>[Ve]),_:1}))]),_:1}),e(c,{prop:"mobile",label:"\u624B\u673A\u53F7",width:"150",align:"center"}),e(c,{label:"\u72B6\u6001",width:"100",align:"center"},{default:o(l=>[e(O,{modelValue:l.row.status,"onUpdate:modelValue":u=>l.row.status=u,onChange:u=>U(u,l.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(c,{label:"\u64CD\u4F5C",width:"200",align:"center",fixed:"right"},{default:o(l=>[e(f,{type:"primary",size:"mini",plain:"",onClick:u=>j(l.row)},{default:o(()=>[$e]),_:2},1032,["onClick"]),e(F,{onCommand:u=>I(u,l.row)},{dropdown:o(()=>[e(T,null,{default:o(()=>[e($,{command:"resetPassword"},{default:o(()=>[Le]),_:1}),e($,{command:"delete",divided:""},{default:o(()=>[Pe]),_:1})]),_:1})]),default:o(()=>[e(f,{size:"mini"},{default:o(()=>[Me,ze]),_:1})]),_:2},1032,["onCommand"])]),_:1})]),_:1},8,["data"]),[[q,a.value.loading]]),e(H,{"current-page":h(p).page,total:h(p).total,"page-size":h(p).size,"page-sizes":h(p).sizes,layout:h(p).layout,"hide-on-single-page":!1,class:"pagination",background:"",onCurrentChange:L,onSizeChange:z},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1}),["dialog","drawer"].includes(a.value.formMode)?(_(),m(me,{key:0,id:a.value.formModeProps.id,modelValue:a.value.formModeProps.visible,"onUpdate:modelValue":t[8]||(t[8]=l=>a.value.formModeProps.visible=l),mode:a.value.formMode,onSuccess:i},null,8,["id","modelValue","mode"])):k("v-if",!0)])}}const Ue=Object.assign(Se,{setup:je});var Te=pe(Ue,[["__scopeId","data-v-0e63af6d"]]);export{Te as default};
