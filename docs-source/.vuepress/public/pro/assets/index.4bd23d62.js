
/**
 * 由 Fantastic-admin-discovery 提供技术支持
 * https://hooray.gitee.io/fantastic-admin-discovery/
 * Powered by Fantastic-admin-discovery
 * https://hooray.github.io/fantastic-admin-discovery/
 */
    
import{_ as A}from"./index.1ee8d9f4.js";import{_ as h}from"./plugin-vue_export-helper.5a098b48.js";import{a4 as b,h as C,aa as S,ab as V,r as w,o as v,I as y,l as _,j as x,J as d,Q as g,V as $,k as B,M as j}from"./vendor.6b4522dc.js";const N={class:"map"},T={class:"search-name"},E=["title"],I={props:{v:{type:String,default:"1.4.15"},appkey:{type:String,default:""},height:{type:[Number,String],default:500},lnglat:{type:Array,default:()=>[]}},emits:["update:lnglat"],setup(m,{emit:s}){const a=m,p=b("");let t="",l="",r="";const i=C(()=>typeof a.height=="string"?a.height:`${a.height}px`);S(()=>{if(typeof AMap=="undefined"){let e=document.createElement("script");e.charset="UTF-8",e.src=`https://webapi.amap.com/maps?v=${a.v}&key=${a.appkey}&plugin=AMap.Autocomplete`,document.head.appendChild(e),e.onload=()=>{c()}}else V(()=>{c()})});function c(){t=new AMap.Map("amap",{zoom:12}),AMap.plugin("AMap.ToolBar",()=>{let e=new AMap.ToolBar;t.addControl(e)}),l=new AMap.Marker({draggable:!0,cursor:"move"}),l.on("dragend",e=>{s("update:lnglat",[e.lnglat.lng,e.lnglat.lat])}),r=new AMap.Autocomplete,t.on("click",e=>{u(e.lnglat.getLng(),e.lnglat.getLat())}),a.lnglat.length==2&&u(a.lnglat[0],a.lnglat[1])}function u(e,o){t.remove(l),l.setPosition([e,o]),t.add(l),t.setFitView(),s("update:lnglat",[e,o])}function k(e,o){r.search(e,(f,n)=>{o(n.tips)})}function M(e){p.value=e.name,e.location?u(e.location.lng,e.location.lat):t.setCity(e.adcode)}return(e,o)=>{const f=w("el-autocomplete");return v(),y("div",N,[_(f,{modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=n=>p.value=n),class:"search","fetch-suggestions":k,"trigger-on-focus":!1,clearable:"","prefix-icon":"el-icon-location-information",placeholder:"\u8BF7\u8F93\u5165\u5730\u5740\u5173\u952E\u5B57",onSelect:M},{default:x(({item:n})=>[d("div",T,g(n.name),1),d("span",{class:"search-address",title:n.district+n.address},g(n.district+n.address),9,E)]),_:1},8,["modelValue"]),d("div",{id:"amap",style:$(`height:${B(i)};`)},null,4)])}}};var U=h(I,[["__scopeId","data-v-2e5359b0"]]);const z={name:"ComponentExampleAmap",props:{},data(){return{lnglat:[120.068384,30.290939]}},created(){},mounted(){},methods:{}};function F(m,s,a,p,t,l){const r=U,i=A;return v(),y("div",null,[_(i,null,{default:x(()=>[d("div",null,"\u7ECF\u7EAC\u5EA6\uFF1A"+g(t.lnglat),1),j(" \u6CE8\u610F\u8FD9\u91CC\u66FF\u6362\u9AD8\u5FB7\u5730\u56FE\u7684appkey "),_(r,{lnglat:t.lnglat,"onUpdate:lnglat":s[0]||(s[0]=c=>t.lnglat=c),appkey:"8f7844cc502e17bb549c04c9aaadaf94",height:600},null,8,["lnglat"])]),_:1})])}var J=h(z,[["render",F],["__scopeId","data-v-755ff3c4"]]);export{J as default};
