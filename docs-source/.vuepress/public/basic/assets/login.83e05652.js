
/**
 * 由 One-step-admin 提供技术支持
 * Powered by One-step-admin
 * https://one-step-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/one-step-admin
 * Github https://github.com/hooray/one-step-admin
 */
    
import{E as e,_ as a}from"./el-divider.c212fa5b.js";import{d as l,u as o,a as r,r as s,o as t,E as u,b as n,c as d,e as i,f as c,w as p,v as m,g as f,h as g,i as v,j as _,p as b,k as w,l as y,m as x,t as h,n as V,q as k,s as j,x as C,y as q,z as P}from"./index.eaca9d64.js";import{E as U,a as E}from"./el-form.7b572636.js";import{E as R}from"./el-button.3a9a3385.js";import{E as z}from"./el-link.9eeb3744.js";import{E as F}from"./el-checkbox.41a5ccba.js";import"./el-form-item.e866842d.js";import{E as S}from"./el-input.0d3e4369.js";/* empty css                */import{_ as $}from"./index.8eb858d1.js";import{_ as I}from"./plugin-vue_export-helper.21dcd24c.js";import"./index2.fa9449b9.js";import"./error2.8f448c70.js";import"./index2.200c9b4b.js";import"./isEqual.5e94cacc.js";import"./event2.aca9aa52.js";import"./typescript2.50fc0493.js";import"./index2.8e851031.js";import"./isNil.aac33454.js";const K=e=>(b("data-v-1ca8cdb8"),e=e(),w(),e),L=K((()=>i("div",{class:"bg-banner"},null,-1))),O={id:"login-box"},N={class:"login-banner"},A=K((()=>i("div",{class:"logo"},null,-1))),B=["src"],D={class:"title-container"},G={class:"title"},H={class:"flex-bar"},J=j("记住我"),M=j("忘记密码了?"),Q=j("登录"),T={class:"sub-link"},W=K((()=>i("span",{class:"text"},"还没有帐号?",-1))),X=j("创建新帐号"),Y={style:{"margin-top":"20px","margin-bottom":"-20px","text-align":"center"}},Z=j("演示账号一键登录"),ee=j("admin"),ae=j("test"),le=K((()=>i("div",{class:"title-container"},[i("h3",{class:"title"},"探索从这里开始! 🚀")],-1))),oe=j("发送验证码"),re=j("注册"),se={class:"sub-link"},te=K((()=>i("span",{class:"text"},"已经有帐号?",-1))),ue=j("去登录"),ne=K((()=>i("div",{class:"title-container"},[i("h3",{class:"title"},"忘记密码了? 🔒")],-1))),de=j("发送验证码"),ie=j("确认"),ce={class:"sub-link"},pe=j("返回登录"),me=l({name:"Login"});var fe=I(Object.assign(me,{setup(l){const{proxy:b}=P(),w=y(),j=x(),I=o(),K=r(),me=new URL("./assets/login-banner.c39180d1.png",self.location).href,fe=s("login"),ge=s({account:localStorage.login_account||"",password:"",remember:!!localStorage.login_account}),ve=s({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]});function _e(){b.$refs.loginFormRef.validate((e=>{e&&(ke.value=!0,K.login(ge.value).then((()=>{ke.value=!1,ge.value.remember?localStorage.setItem("login_account",ge.value.account):localStorage.removeItem("login_account"),j.push(Ce.value)})).catch((()=>{ke.value=!1})))}))}const be=s({account:"",captcha:"",password:"",checkPassword:""}),we=s({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],captcha:[{required:!0,trigger:"blur",message:"请输入验证码"}],password:[{required:!0,trigger:"blur",message:"请输入密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}],checkPassword:[{required:!0,trigger:"blur",message:"请再次输入密码"},{validator:(e,a,l)=>{a!==be.password?l(new Error("两次输入的密码不一致")):l()}}]});function ye(){C({message:"注册模块仅提供界面演示，无实际功能，需开发者自行扩展",type:"warning"}),b.$refs.registerFormRef.validate((e=>{}))}const xe=s({account:localStorage.login_account||"",captcha:"",newPassword:""}),he=s({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],captcha:[{required:!0,trigger:"blur",message:"请输入验证码"}],newPassword:[{required:!0,trigger:"blur",message:"请输入新密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]});function Ve(){C({message:"重置密码仅提供界面演示，无实际功能，需开发者自行扩展",type:"info"}),b.$refs.resetFormRef.validate((e=>{}))}const ke=s(!1),je=s("password"),Ce=s(null);function qe(){je.value="password"===je.value?"":"password",q((()=>{b.$refs.password.focus()}))}function Pe(e){ge.value.account=e,ge.value.password="123456",_e()}return t((()=>{var e;Ce.value=null!=(e=w.query.redirect)?e:"/"})),(l,o)=>{const r=$,s=u,t=S,b=U,w=F,y=z,x=R,j=e,C=E,q=a;return n(),d("div",null,[L,i("div",O,[i("div",N,[A,i("img",{src:c(me),class:"banner"},null,8,B)]),p(f(C,{ref:"loginFormRef",model:ge.value,rules:ve.value,class:"login-form",autocomplete:"on"},{default:g((()=>[i("div",D,[i("h3",G,"欢迎来到 "+h(c("One-step-admin 基础版"))+" ! 👋🏻",1)]),i("div",null,[f(b,{prop:"account"},{default:g((()=>[f(t,{ref:"name",modelValue:ge.value.account,"onUpdate:modelValue":o[0]||(o[0]=e=>ge.value.account=e),placeholder:"用户名",tabindex:"1",autocomplete:"on"},{prefix:g((()=>[f(s,null,{default:g((()=>[f(r,{name:"user"})])),_:1})])),_:1},8,["modelValue"])])),_:1}),f(b,{prop:"password"},{default:g((()=>[f(t,{ref:"password",modelValue:ge.value.password,"onUpdate:modelValue":o[1]||(o[1]=e=>ge.value.password=e),type:je.value,placeholder:"密码",tabindex:"2",autocomplete:"on",onKeyup:V(_e,["enter"])},{prefix:g((()=>[f(s,null,{default:g((()=>[f(r,{name:"password"})])),_:1})])),suffix:g((()=>[f(s,null,{default:g((()=>[f(r,{name:"password"===je.value?"eye":"eye-open",onClick:qe},null,8,["name"])])),_:1})])),_:1},8,["modelValue","type","onKeyup"])])),_:1})]),i("div",H,[f(w,{modelValue:ge.value.remember,"onUpdate:modelValue":o[2]||(o[2]=e=>ge.value.remember=e)},{default:g((()=>[J])),_:1},8,["modelValue"]),f(y,{type:"primary",underline:!1,onClick:o[3]||(o[3]=e=>fe.value="reset")},{default:g((()=>[M])),_:1})]),f(x,{loading:ke.value,type:"primary",size:"large",style:{width:"100%"},onClick:k(_e,["prevent"])},{default:g((()=>[Q])),_:1},8,["loading","onClick"]),i("div",T,[W,f(y,{type:"primary",underline:!1,onClick:o[4]||(o[4]=e=>fe.value="register")},{default:g((()=>[X])),_:1})]),i("div",Y,[f(j,null,{default:g((()=>[Z])),_:1}),f(x,{type:"primary",size:"small",plain:"",onClick:o[5]||(o[5]=e=>Pe("admin"))},{default:g((()=>[ee])),_:1}),f(x,{size:"small",plain:"",onClick:o[6]||(o[6]=e=>Pe("test"))},{default:g((()=>[ae])),_:1})])])),_:1},8,["model","rules"]),[[m,"login"==fe.value]]),p(f(C,{ref:"registerFormRef",model:be.value,rules:we.value,class:"login-form","auto-complete":"on"},{default:g((()=>[le,i("div",null,[f(b,{prop:"account"},{default:g((()=>[f(t,{ref:"name",modelValue:be.value.account,"onUpdate:modelValue":o[7]||(o[7]=e=>be.value.account=e),placeholder:"用户名",tabindex:"1",autocomplete:"on"},{prefix:g((()=>[f(s,null,{default:g((()=>[f(r,{name:"user"})])),_:1})])),_:1},8,["modelValue"])])),_:1}),f(b,{prop:"captcha"},{default:g((()=>[f(t,{ref:"captcha",modelValue:be.value.captcha,"onUpdate:modelValue":o[8]||(o[8]=e=>be.value.captcha=e),placeholder:"验证码",tabindex:"2",autocomplete:"on"},{prefix:g((()=>[f(s,null,{default:g((()=>[f(r,{name:"captcha"})])),_:1})])),append:g((()=>[f(x,null,{default:g((()=>[oe])),_:1})])),_:1},8,["modelValue"])])),_:1}),f(b,{prop:"password"},{default:g((()=>[f(t,{ref:"password",modelValue:be.value.password,"onUpdate:modelValue":o[9]||(o[9]=e=>be.value.password=e),type:je.value,placeholder:"密码",tabindex:"3",autocomplete:"on"},{prefix:g((()=>[f(s,null,{default:g((()=>[f(r,{name:"password"})])),_:1})])),suffix:g((()=>[f(s,null,{default:g((()=>[f(r,{name:"password"===je.value?"eye":"eye-open",onClick:qe},null,8,["name"])])),_:1})])),_:1},8,["modelValue","type"])])),_:1}),f(b,{prop:"checkPassword"},{default:g((()=>[f(t,{ref:"checkPassword",modelValue:be.value.checkPassword,"onUpdate:modelValue":o[10]||(o[10]=e=>be.value.checkPassword=e),type:je.value,placeholder:"确认密码",tabindex:"4",autocomplete:"on"},{prefix:g((()=>[f(s,null,{default:g((()=>[f(r,{name:"password"})])),_:1})])),suffix:g((()=>[f(s,null,{default:g((()=>[f(r,{name:"password"===je.value?"eye":"eye-open",onClick:qe},null,8,["name"])])),_:1})])),_:1},8,["modelValue","type"])])),_:1})]),f(x,{loading:ke.value,type:"primary",size:"large",style:{width:"100%","margin-top":"20px"},onClick:k(ye,["prevent"])},{default:g((()=>[re])),_:1},8,["loading","onClick"]),i("div",se,[te,f(y,{type:"primary",underline:!1,onClick:o[11]||(o[11]=e=>fe.value="login")},{default:g((()=>[ue])),_:1})])])),_:1},8,["model","rules"]),[[m,"register"==fe.value]]),p(f(C,{ref:"resetFormRef",model:xe.value,rules:he.value,class:"login-form","auto-complete":"on"},{default:g((()=>[ne,i("div",null,[f(b,{prop:"account"},{default:g((()=>[f(t,{ref:"name",modelValue:xe.value.account,"onUpdate:modelValue":o[12]||(o[12]=e=>xe.value.account=e),placeholder:"用户名",tabindex:"1",autocomplete:"on"},{prefix:g((()=>[f(s,null,{default:g((()=>[f(r,{name:"user"})])),_:1})])),_:1},8,["modelValue"])])),_:1}),f(b,{prop:"captcha"},{default:g((()=>[f(t,{ref:"captcha",modelValue:xe.value.captcha,"onUpdate:modelValue":o[13]||(o[13]=e=>xe.value.captcha=e),placeholder:"验证码",tabindex:"2",autocomplete:"on"},{prefix:g((()=>[f(s,null,{default:g((()=>[f(r,{name:"captcha"})])),_:1})])),append:g((()=>[f(x,null,{default:g((()=>[de])),_:1})])),_:1},8,["modelValue"])])),_:1}),f(b,{prop:"newPassword"},{default:g((()=>[f(t,{ref:"newPassword",modelValue:xe.value.newPassword,"onUpdate:modelValue":o[14]||(o[14]=e=>xe.value.newPassword=e),type:je.value,placeholder:"新密码",tabindex:"3",autocomplete:"on"},{prefix:g((()=>[f(s,null,{default:g((()=>[f(r,{name:"password"})])),_:1})])),suffix:g((()=>[f(s,null,{default:g((()=>[f(r,{name:"password"===je.value?"eye":"eye-open",onClick:qe},null,8,["name"])])),_:1})])),_:1},8,["modelValue","type"])])),_:1})]),f(x,{loading:ke.value,type:"primary",size:"large",style:{width:"100%","margin-top":"20px"},onClick:k(Ve,["prevent"])},{default:g((()=>[ie])),_:1},8,["loading","onClick"]),i("div",ce,[f(y,{type:"primary",underline:!1,onClick:o[15]||(o[15]=e=>fe.value="login")},{default:g((()=>[pe])),_:1})])])),_:1},8,["model","rules"]),[[m,"reset"==fe.value]])]),c(I).copyright.enable?(n(),v(q,{key:0})):_("v-if",!0)])}}}),[["__scopeId","data-v-1ca8cdb8"]]);export{fe as default};
