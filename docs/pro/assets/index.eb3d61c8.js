
/**
 * 由 Fantastic-admin 提供技术支持
 * https://hooray.gitee.io/fantastic-admin/
 * Powered by Fantastic-admin
 * https://hooray.github.io/fantastic-admin/
 */
    
import{_ as q}from"./index.b92ebba1.js";import{ak as z,a2 as G,a8 as H,o as k,G as w,ac as J,I as K,J as T,T as Z,O as Q,K as U,m as tt,l as f,j as et}from"./vendor.e2abc40b.js";import{_ as I}from"./plugin-vue_export-helper.5a098b48.js";import{_ as ot}from"./index.a4d9ae54.js";function L(t,o,l,e){return parseFloat((o-e*o/t+l).toFixed(2))}function lt(t){[...t.querySelectorAll("*")].forEach(o=>t.removeChild(o))}function at(t){return t.value}function x(t,o){const l=document.createElementNS("http://www.w3.org/2000/svg",t);for(let e in o)l.setAttribute(e,o[e]);return l}function E(t,o,l){if(lt(t),o.length<=1)return;l=l||{},typeof o[0]=="number"&&(o=o.map(s=>({value:s})));const e=l.onmousemove,a=l.onmouseout,d="interactive"in l?l.interactive:!!e,r=l.spotRadius||2,n=r*2,C=l.cursorWidth||2,g=parseFloat(t.attributes["stroke-width"].value),W=l.fetch||at,_=o.map(s=>W(s)),V=parseFloat(t.attributes.width.value)-n*2,b=parseFloat(t.attributes.height.value),j=b-g*2-n,D=Math.max(..._),u=-1e3,F=_.length-1,B=V/F,h=[],M=L(D,j,g+r,_[0]);let $=`M${n} ${M}`;_.forEach((s,p)=>{const i=p*B+n,c=L(D,j,g+r,s);h.push(Object.assign({},o[p],{index:p,x:i,y:c})),$+=` L ${i} ${c}`});const O=x("path",{class:"sparkline--line",d:$,fill:"none"});let P=`${$} V ${b} L ${n} ${b} Z`;const R=x("path",{class:"sparkline--fill",d:P,stroke:"none"});if(t.appendChild(R),t.appendChild(O),!d)return;const v=x("line",{class:"sparkline--cursor",x1:u,x2:u,y1:0,y2:b,"stroke-width":C}),y=x("circle",{class:"sparkline--spot",cx:u,cy:u,r});t.appendChild(v),t.appendChild(y);const S=x("rect",{width:t.attributes.width.value,height:t.attributes.height.value,style:"fill: transparent; stroke: transparent",class:"sparkline--interaction-layer"});t.appendChild(S),S.addEventListener("mouseout",s=>{v.setAttribute("x1",u),v.setAttribute("x2",u),y.setAttribute("cx",u),a&&a(s)}),S.addEventListener("mousemove",s=>{const p=s.offsetX;let i=h.find(Y=>Y.x>=p);i||(i=h[F]);let c=h[h.indexOf(i)-1],m,N;c?(N=c.x+(i.x-c.x)/2,m=p>=N?i:c):m=i;const A=m.x,X=m.y;y.setAttribute("cx",A),y.setAttribute("cy",X),v.setAttribute("x1",A),v.setAttribute("x2",A),e&&e(s,m)})}const nt={class:"sparkline"},st=["width","height","stroke-width","stroke","fill"],rt={props:{value:{type:Array,require:!0},width:{type:Number,default:100},height:{type:Number,default:30},strokeWidth:{type:Number,default:3},strokeColor:{type:String,default:"#dc2b33"},fillColor:{type:String,default:"transparent"},cursorColor:{type:String,default:"#dc2b33"},spotColor:{type:String,default:"#dc2b33"},tooltip:{type:Boolean,default:!1}},setup(t){const o=t;z(a=>({acce1960:t.cursorColor,"30f3c5e4":t.spotColor}));const{proxy:l}=tt(),e=G({show:!1,content:"",top:0,left:0});return H(()=>{E(l.$refs.sparkline,o.value,o.tooltip&&{onmousemove:(a,d)=>{e.value.show=!0,e.value.content=d.tooltip,e.value.top=a.offsetY,e.value.left=a.offsetX+20},onmouseout:()=>{e.value.show=!1}})}),(a,d)=>(k(),w("div",nt,[(k(),w("svg",{ref:(r,n)=>{n.sparkline=r,J(E)&&(E.value=r)},width:t.width,height:t.height,"stroke-width":t.strokeWidth,stroke:t.strokeColor,fill:t.fillColor},null,8,st)),t.tooltip?K((k(),w("span",{key:0,class:"tooltip",style:Z([`left: ${e.value.left}px`,`top: ${e.value.top}px`])},Q(e.value.content),5)),[[T,e.value.show]]):U("v-if",!0)]))}};var it=I(rt,[["__scopeId","data-v-52b2dc50"]]);const ut={data(){return{value1:[1,5,2,4,8,3,7],value2:[{tooltip:"\u503C\uFF1A1",value:1},{tooltip:"\u503C\uFF1A3",value:3},{tooltip:"\u503C\uFF1A5",value:5},{tooltip:"\u503C\uFF1A8",value:8},{tooltip:"\u503C\uFF1A4",value:4},{tooltip:"\u503C\uFF1A6",value:6},{tooltip:"\u503C\uFF1A9",value:9}]}}};function ct(t,o,l,e,a,d){const r=ot,n=it,C=q;return k(),w("div",null,[f(r,{title:"\u8FF7\u4F60\u56FE",content:"Sparkline"}),f(C,null,{default:et(()=>[f(n,{value:a.value1},null,8,["value"]),f(n,{value:a.value1,"stroke-color":"#409eff","fill-color":"#b3d8ff"},null,8,["value"]),f(n,{value:a.value2,tooltip:""},null,8,["value"]),f(n,{value:a.value2,tooltip:"","stroke-color":"#409eff","fill-color":"#b3d8ff","cursor-color":"#e6a23c","spot-color":"#909399"},null,8,["value"])]),_:1})])}var vt=I(ut,[["render",ct]]);export{vt as default};
