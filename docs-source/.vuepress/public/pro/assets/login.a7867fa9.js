
/**
 * 由 One-step-admin 提供技术支持
 * https://hooray.gitee.io/one-step-admin/
 * Powered by One-step-admin
 * https://hooray.github.io/one-step-admin/
 */
    
import{_ as e,a}from"./index.426305d7.js";import{_ as l,d as o,u as t,a as s,b as r,r as n,s as u,o as d,E as i,c as p,e as c,w as m,f,g,v,h as b,i as _,j as w,p as x,k as h,l as y,m as j,n as V,t as k,q as C,x as q,y as E,z,A as P,B as U}from"./index.05e4ed9f.js";import{E as F}from"./el-row.5e74fbc9.js";import{E as R}from"./el-col.8e8a833a.js";import{E as $,a as K}from"./el-form.48a75487.js";import{E as L}from"./el-button.a01942a9.js";import{E as O}from"./el-checkbox.b635827d.js";import"./el-form-item.e866842d.js";import{E as A}from"./el-input.93d8033e.js";/* empty css                */import{_ as B}from"./index.dd2c42e8.js";import"./el-dropdown-item.7564197a.js";import"./el-popper.f565a276.js";import"./event.bca3aed8.js";import"./index.80697eb7.js";import"./error.76088f19.js";import"./index.48c8fc0e.js";import"./arrow-down.0a07a387.js";import"./typescript.14beffb5.js";import"./isEqual.dd51095a.js";import"./index.aa8c6f3e.js";import"./event.e7ca8317.js";import"./validator.ce3b7d6b.js";import"./index.bebbe66d.js";import"./isNil.aac33454.js";const I=e=>(x("data-v-249eaf0c"),e=e(),h(),e),N=I((()=>f("div",{class:"bg-banner"},null,-1))),D={id:"login-box"},G=I((()=>f("div",{class:"login-banner"},null,-1))),H={class:"title-container"},J={class:"title"},M={class:"flex-bar"},Q=E("记住我"),S=E("忘记密码"),T={style:{"margin-top":"20px","margin-bottom":"-10px",color:"#666","font-size":"14px","text-align":"center","font-weight":"bold"}},W=I((()=>f("span",{style:{"margin-right":"5px"}},"演示帐号一键登录：",-1))),X=E("admin"),Y=E("test"),Z=I((()=>f("div",{class:"title-container"},[f("h3",{class:"title"},"重置密码")],-1))),ee=o({name:"Login"});var ae=l(Object.assign(ee,{setup(l){const{proxy:o}=U(),x=y(),h=j(),I=t(),ee=s(),{t:ae}=r(),le=n("login"),oe=n({account:u.local.get("login_account"),password:"",remember:u.local.has("login_account")}),te=n({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]}),se=n({account:u.local.get("login_account"),captcha:"",newPassword:""}),re=n({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],captcha:[{required:!0,trigger:"blur",message:"请输入验证码"}],newPassword:[{required:!0,trigger:"blur",message:"请输入新密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]}),ne=n(!1),ue=n("password"),de=n(null);function ie(){ue.value="password"===ue.value?"":"password",z((()=>{o.$refs.password.focus()}))}function pe(){o.$refs.loginFormRef.validate((e=>{e&&(ne.value=!0,ee.login(oe.value).then((()=>{ne.value=!1,oe.value.remember?u.local.set("login_account",oe.value.account):u.local.remove("login_account"),h.push(de.value)})).catch((()=>{ne.value=!1})))}))}function ce(){P({message:"重置密码仅提供界面演示，无实际功能，需开发者自行扩展",type:"info"}),o.$refs.resetFormRef.validate((e=>{}))}function me(e){oe.value.account=e,oe.value.password="123456",pe()}return d((()=>{var e;de.value=null!=(e=x.query.redirect)?e:"/"})),(l,o)=>{const t=B,s=i,r=e,n=A,u=$,d=O,x=L,h=K,y=R,j=F,z=a;return V(),p("div",null,[N,c(r,{class:"i18n-selector"},{default:m((()=>[c(s,null,{default:m((()=>[c(t,{name:"ri:translate"})])),_:1})])),_:1}),f("div",D,[G,g(c(h,{ref:"loginFormRef",model:oe.value,rules:te.value,class:"login-form",autocomplete:"on","label-position":"left"},{default:m((()=>[f("div",H,[f("h3",J,k(b("One-step-admin 专业版"))+"管理后台",1)]),f("div",null,[c(u,{prop:"account"},{default:m((()=>[c(n,{ref:"name",modelValue:oe.value.account,"onUpdate:modelValue":o[0]||(o[0]=e=>oe.value.account=e),placeholder:b(ae)("app.account"),type:"text",tabindex:"1",autocomplete:"on"},{prefix:m((()=>[c(s,null,{default:m((()=>[c(t,{name:"user"})])),_:1})])),_:1},8,["modelValue","placeholder"])])),_:1}),c(u,{prop:"password"},{default:m((()=>[c(n,{ref:"password",modelValue:oe.value.password,"onUpdate:modelValue":o[1]||(o[1]=e=>oe.value.password=e),type:ue.value,placeholder:b(ae)("app.password"),tabindex:"2",autocomplete:"on",onKeyup:C(pe,["enter"])},{prefix:m((()=>[c(s,null,{default:m((()=>[c(t,{name:"password"})])),_:1})])),suffix:m((()=>[c(s,null,{default:m((()=>[c(t,{name:"password"===ue.value?"eye":"eye-open",onClick:ie},null,8,["name"])])),_:1})])),_:1},8,["modelValue","type","placeholder","onKeyup"])])),_:1})]),f("div",M,[c(d,{modelValue:oe.value.remember,"onUpdate:modelValue":o[2]||(o[2]=e=>oe.value.remember=e)},{default:m((()=>[Q])),_:1},8,["modelValue"]),c(x,{type:"text",onClick:o[3]||(o[3]=e=>le.value="reset")},{default:m((()=>[S])),_:1})]),c(x,{loading:ne.value,type:"primary",size:"large",style:{width:"100%"},onClick:q(pe,["prevent"])},{default:m((()=>[E(k(b(ae)("app.login")),1)])),_:1},8,["loading","onClick"]),f("div",T,[W,c(x,{type:"danger",size:"small",onClick:o[4]||(o[4]=e=>me("admin"))},{default:m((()=>[X])),_:1}),c(x,{type:"danger",size:"small",plain:"",onClick:o[5]||(o[5]=e=>me("test"))},{default:m((()=>[Y])),_:1})])])),_:1},8,["model","rules"]),[[v,"login"==le.value]]),g(c(h,{ref:"resetFormRef",model:se.value,rules:re.value,class:"login-form","auto-complete":"on","label-position":"left"},{default:m((()=>[Z,f("div",null,[c(u,{prop:"account"},{default:m((()=>[c(n,{ref:"name",modelValue:se.value.account,"onUpdate:modelValue":o[6]||(o[6]=e=>se.value.account=e),placeholder:b(ae)("app.account"),type:"text",tabindex:"1",autocomplete:"on"},{prefix:m((()=>[c(s,null,{default:m((()=>[c(t,{name:"user"})])),_:1})])),_:1},8,["modelValue","placeholder"])])),_:1}),c(u,{prop:"captcha"},{default:m((()=>[c(n,{ref:"captcha",modelValue:se.value.captcha,"onUpdate:modelValue":o[7]||(o[7]=e=>se.value.captcha=e),placeholder:b(ae)("app.captcha"),type:"text",tabindex:"2",autocomplete:"on"},{prefix:m((()=>[c(s,null,{default:m((()=>[c(t,{name:"captcha"})])),_:1})])),append:m((()=>[c(x,null,{default:m((()=>[E(k(b(ae)("app.sendCaptcha")),1)])),_:1})])),_:1},8,["modelValue","placeholder"])])),_:1}),c(u,{prop:"newPassword"},{default:m((()=>[c(n,{ref:"newPassword",modelValue:se.value.newPassword,"onUpdate:modelValue":o[8]||(o[8]=e=>se.value.newPassword=e),type:ue.value,placeholder:b(ae)("app.newPassword"),tabindex:"3",autocomplete:"on"},{prefix:m((()=>[c(s,null,{default:m((()=>[c(t,{name:"password"})])),_:1})])),suffix:m((()=>[c(s,null,{default:m((()=>[c(t,{name:"password"===ue.value?"eye":"eye-open",onClick:ie},null,8,["name"])])),_:1})])),_:1},8,["modelValue","type","placeholder"])])),_:1})]),c(j,{gutter:15,style:{"padding-top":"20px"}},{default:m((()=>[c(y,{md:6},{default:m((()=>[c(x,{size:"large",style:{width:"100%"},onClick:o[9]||(o[9]=e=>le.value="login")},{default:m((()=>[E(k(b(ae)("app.goLogin")),1)])),_:1})])),_:1}),c(y,{md:18},{default:m((()=>[c(x,{loading:ne.value,type:"primary",size:"large",style:{width:"100%"},onClick:q(ce,["prevent"])},{default:m((()=>[E(k(b(ae)("app.check")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["model","rules"]),[[v,"reset"==le.value]])]),b(I).copyright.enable?(V(),_(z,{key:0})):w("v-if",!0)])}}}),[["__scopeId","data-v-249eaf0c"]]);export{ae as default};
