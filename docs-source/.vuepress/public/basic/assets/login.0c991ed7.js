
/**
 * 由 One-step-admin 提供技术支持
 * https://hooray.gitee.io/one-step-admin/
 * Powered by One-step-admin
 * https://hooray.github.io/one-step-admin/
 */
    
import{_ as e}from"./index.98351379.js";import{_ as a}from"./index.8868c02f.js";import{y as l,A as o,B as t,C as r,D as s,F as n,G as u,f as d,e as i,u as c,b as p,H as m,I as f,J as g,K as v,L as _,r as b,o as x,M as w,N as y,O as h,P as V,Q as k,R as C}from"./vendor.2ae12b47.js";import{u as P,a as j}from"./index.25f3c386.js";import{_ as q}from"./plugin-vue_export-helper.21dcd24c.js";const z=e=>(f("data-v-05b88482"),e=e(),g(),e),U=z((()=>s("div",{class:"bg-banner"},null,-1))),F={id:"login-box"},R=z((()=>s("div",{class:"login-banner"},null,-1))),S={class:"title-container"},I={class:"title"},$={class:"flex-bar"},K=V("记住我"),O=V("忘记密码"),L=V("登 录"),A={style:{"margin-top":"20px","margin-bottom":"-10px",color:"#666","font-size":"14px","text-align":"center","font-weight":"bold"}},B=z((()=>s("span",{style:{"margin-right":"5px"}},"演示帐号一键登录：",-1))),D=V("admin"),G=V("test"),H=z((()=>s("div",{class:"title-container"},[s("h3",{class:"title"},"重置密码")],-1))),J=V("发送验证码"),M=V("去登录"),N=V("确认"),Q=l({name:"Login"});var E=q(Object.assign(Q,{setup(l){const{proxy:f}=C(),g=v(),V=_(),q=P(),z=j(),Q=o("login"),E=o({account:localStorage.login_account||"",password:"",remember:!!localStorage.login_account}),T=o({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]}),W=o({account:localStorage.login_account||"",captcha:"",newPassword:""}),X=o({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],captcha:[{required:!0,trigger:"blur",message:"请输入验证码"}],newPassword:[{required:!0,trigger:"blur",message:"请输入新密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]}),Y=o(!1),Z=o("password"),ee=o(null);function ae(){Z.value="password"===Z.value?"":"password",k((()=>{f.$refs.password.focus()}))}function le(){f.$refs.loginFormRef.validate((e=>{e&&(Y.value=!0,z.login(E.value).then((()=>{Y.value=!1,E.value.remember?localStorage.setItem("login_account",E.value.account):localStorage.removeItem("login_account"),V.push(ee.value)})).catch((()=>{Y.value=!1})))}))}function oe(){f.$message({message:"重置密码仅提供界面演示，无实际功能，需开发者自行扩展",type:"info"}),f.$refs.resetFormRef.validate((e=>{}))}function te(e){E.value.account=e,E.value.password="123456",le()}return t((()=>{var e;ee.value=null!=(e=g.query.redirect)?e:"/"})),(l,o)=>{const t=a,f=b("el-input"),g=b("el-form-item"),v=b("el-checkbox"),_=b("el-button"),V=b("el-form"),k=b("el-col"),C=b("el-row"),P=e;return x(),r("div",null,[U,s("div",F,[R,n(d(V,{ref:"loginFormRef",model:E.value,rules:T.value,class:"login-form",autocomplete:"on","label-position":"left"},{default:i((()=>[s("div",S,[s("h3",I,w(c("One-step-admin 基础版"))+"管理后台",1)]),s("div",null,[d(g,{prop:"account"},{default:i((()=>[d(f,{ref:"name",modelValue:E.value.account,"onUpdate:modelValue":o[0]||(o[0]=e=>E.value.account=e),placeholder:"用户名",type:"text",tabindex:"1",autocomplete:"on"},{prefix:i((()=>[d(t,{name:"user"})])),_:1},8,["modelValue"])])),_:1}),d(g,{prop:"password"},{default:i((()=>[d(f,{ref:"password",modelValue:E.value.password,"onUpdate:modelValue":o[1]||(o[1]=e=>E.value.password=e),type:Z.value,placeholder:"密码",tabindex:"2",autocomplete:"on",onKeyup:y(le,["enter"])},{prefix:i((()=>[d(t,{name:"password"})])),suffix:i((()=>[d(t,{name:"password"===Z.value?"eye":"eye-open",onClick:ae},null,8,["name"])])),_:1},8,["modelValue","type","onKeyup"])])),_:1})]),s("div",$,[d(v,{modelValue:E.value.remember,"onUpdate:modelValue":o[2]||(o[2]=e=>E.value.remember=e)},{default:i((()=>[K])),_:1},8,["modelValue"]),d(_,{type:"text",onClick:o[3]||(o[3]=e=>Q.value="reset")},{default:i((()=>[O])),_:1})]),d(_,{loading:Y.value,type:"primary",size:"large",style:{width:"100%"},onClick:h(le,["prevent"])},{default:i((()=>[L])),_:1},8,["loading","onClick"]),s("div",A,[B,d(_,{type:"danger",size:"small",onClick:o[4]||(o[4]=e=>te("admin"))},{default:i((()=>[D])),_:1}),d(_,{type:"danger",size:"small",plain:"",onClick:o[5]||(o[5]=e=>te("test"))},{default:i((()=>[G])),_:1})])])),_:1},8,["model","rules"]),[[u,"login"==Q.value]]),n(d(V,{ref:"resetFormRef",model:W.value,rules:X.value,class:"login-form","auto-complete":"on","label-position":"left"},{default:i((()=>[H,s("div",null,[d(g,{prop:"account"},{default:i((()=>[d(f,{ref:"name",modelValue:W.value.account,"onUpdate:modelValue":o[6]||(o[6]=e=>W.value.account=e),placeholder:"用户名",type:"text",tabindex:"1",autocomplete:"on"},{prefix:i((()=>[d(t,{name:"user"})])),_:1},8,["modelValue"])])),_:1}),d(g,{prop:"captcha"},{default:i((()=>[d(f,{ref:"captcha",modelValue:W.value.captcha,"onUpdate:modelValue":o[7]||(o[7]=e=>W.value.captcha=e),placeholder:"验证码",type:"text",tabindex:"2",autocomplete:"on"},{prefix:i((()=>[d(t,{name:"captcha"})])),append:i((()=>[d(_,null,{default:i((()=>[J])),_:1})])),_:1},8,["modelValue"])])),_:1}),d(g,{prop:"newPassword"},{default:i((()=>[d(f,{ref:"newPassword",modelValue:W.value.newPassword,"onUpdate:modelValue":o[8]||(o[8]=e=>W.value.newPassword=e),type:Z.value,placeholder:"新密码",tabindex:"3",autocomplete:"on"},{prefix:i((()=>[d(t,{name:"password"})])),suffix:i((()=>[d(t,{name:"password"===Z.value?"eye":"eye-open",onClick:ae},null,8,["name"])])),_:1},8,["modelValue","type"])])),_:1})]),d(C,{gutter:15,style:{"padding-top":"20px"}},{default:i((()=>[d(k,{md:6},{default:i((()=>[d(_,{size:"large",style:{width:"100%"},onClick:o[9]||(o[9]=e=>Q.value="login")},{default:i((()=>[M])),_:1})])),_:1}),d(k,{md:18},{default:i((()=>[d(_,{loading:Y.value,type:"primary",size:"large",style:{width:"100%"},onClick:h(oe,["prevent"])},{default:i((()=>[N])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["model","rules"]),[[u,"reset"==Q.value]])]),c(q).copyright.enable?(x(),p(P,{key:0})):m("v-if",!0)])}}}),[["__scopeId","data-v-05b88482"]]);export{E as default};
