
/**
 * 由 One-step-admin 提供技术支持
 * Powered by One-step-admin
 * https://one-step-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/one-step-admin
 * Github https://github.com/hooray/one-step-admin
 */
    
var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t,i=(e,a)=>{for(var l in a||(a={}))n.call(a,l)&&s(e,l,a[l]);if(t)for(var l of t(a))o.call(a,l)&&s(e,l,a[l]);return e},r=(e,t)=>a(e,l(t));import{d,C as c,aj as u,E as p,ab as h,Z as m,D as v,_ as f,aX as g,b,c as y,j as k,i as C,q as x,h as V,g as w,F as E,a2 as S,e as N,r as j,aQ as $,s as _,t as D,z as L,bu as T,Y as P,aR as z,bB as I,aM as M,V as F,W as H,U as O,bC as B,o as A,y as q,aq as K,aP as U,ap as R,bj as Z,$ as W,bt as X,w as G,n as Q,bz as Y,H as J,v as ee,G as ae,bD as le,f as te,ai as ne}from"./index.eaca9d64.js";import{E as oe,a as se}from"./el-form.7b572636.js";import{E as ie}from"./el-button.3a9a3385.js";import"./el-form-item.e866842d.js";import{_ as re}from"./index.9a39b5db.js";import{E as de,i as ce}from"./el-input.0d3e4369.js";import{g as ue,b as pe,a as he}from"./el-popper.fc80cd0d.js";/* empty css               */import{E as me}from"./el-checkbox.41a5ccba.js";/* empty css                 */import{E as ve}from"./el-scrollbar.e58c8c70.js";import{_ as fe}from"./plugin-vue_export-helper.21dcd24c.js";import{b as ge}from"./index2.5e3d5613.js";import{c as be}from"./check.fdf129df.js";import{a as ye}from"./arrow-right.7abf62bd.js";import{u as ke}from"./index2.a801f47d.js";import{l as Ce}from"./isEqual.5e94cacc.js";import{i as xe,f as Ve,g as we}from"./aria2.61a0709e.js";import{U as Ee,C as Se}from"./event2.aca9aa52.js";import{u as Ne,c as je}from"./arrays2.bfcfd839.js";import{s as $e}from"./scroll2.f3eaa5fd.js";import{b as _e}from"./_baseFlatten.3231ae7a.js";import{E as De,t as Le}from"./index2.5d9b7623.js";import{C as Te}from"./index2.1e657179.js";import{i as Pe}from"./validator2.1a757222.js";import{f as ze,a as Ie,u as Me}from"./index2.fa9449b9.js";import{d as Fe}from"./error2.8f448c70.js";import{a as He,r as Oe}from"./resize-event2.7b8e80bc.js";import{a as Be}from"./arrow-down.2b67fccc.js";import{d as Ae}from"./debounce.ac625793.js";import{_ as qe}from"./index.34688040.js";import"./index2.200c9b4b.js";/* empty css                */import"./index.8eb858d1.js";import"./typescript2.50fc0493.js";import"./index2.8e851031.js";import"./isNil.aac33454.js";import"./event2.622b6e35.js";var Ke=d({name:"NodeContent",setup:()=>({ns:c("cascader-node")}),render(){const{ns:e}=this,{node:a,panel:l}=this.$parent,{data:t,label:n}=a,{renderLabelFn:o}=l;return u("span",{class:e.e("label")},o?o({node:a,data:t}):n)}});const Ue=Symbol(),Re=d({name:"ElCascaderNode",components:{ElCheckbox:me,ElRadio:ge,NodeContent:Ke,ElIcon:p,Check:be,Loading:h,ArrowRight:ye},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:a}){const l=m(Ue),t=c("cascader-node"),n=v((()=>l.isHoverMenu)),o=v((()=>l.config.multiple)),s=v((()=>l.config.checkStrictly)),i=v((()=>{var e;return null==(e=l.checkedNodes[0])?void 0:e.uid})),r=v((()=>e.node.isDisabled)),d=v((()=>e.node.isLeaf)),u=v((()=>s.value&&!d.value||!r.value)),p=v((()=>f(l.expandingNode))),h=v((()=>s.value&&l.checkedNodes.some(f))),f=a=>{var l;const{level:t,uid:n}=e.node;return(null==(l=null==a?void 0:a.pathNodes[t-1])?void 0:l.uid)===n},g=()=>{p.value||l.expandNode(e.node)},b=a=>{const{node:t}=e;a!==t.checked&&l.handleCheckChange(t,a)},y=()=>{l.lazyLoad(e.node,(()=>{d.value||g()}))},k=()=>{const{node:a}=e;u.value&&!a.loading&&(a.loaded?g():y())},C=a=>{e.node.loaded?(b(a),!s.value&&g()):y()};return{panel:l,isHoverMenu:n,multiple:o,checkStrictly:s,checkedNodeId:i,isDisabled:r,isLeaf:d,expandable:u,inExpandingPath:p,inCheckedPath:h,ns:t,handleHoverExpand:e=>{n.value&&(k(),!d.value&&a("expand",e))},handleExpand:k,handleClick:()=>{n.value&&!d.value||(!d.value||r.value||s.value||o.value?k():C(!0))},handleCheck:C,handleSelectCheck:a=>{s.value?(b(a),e.node.loaded&&g()):C(a)}}}}),Ze=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],We=N("span",null,null,-1);var Xe=f(d({name:"ElCascaderMenu",components:{Loading:h,ElIcon:p,ElScrollbar:ve,ElCascaderNode:f(Re,[["render",function(e,a,l,t,n,o){const s=g("el-checkbox"),i=g("el-radio"),r=g("check"),d=g("el-icon"),c=g("node-content"),u=g("loading"),p=g("arrow-right");return b(),y("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:E([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:a[2]||(a[2]=(...a)=>e.handleHoverExpand&&e.handleHoverExpand(...a)),onFocus:a[3]||(a[3]=(...a)=>e.handleHoverExpand&&e.handleHoverExpand(...a)),onClick:a[4]||(a[4]=(...a)=>e.handleClick&&e.handleClick(...a))},[k(" prefix "),e.multiple?(b(),C(s,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:a[0]||(a[0]=x((()=>{}),["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(b(),C(i,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:a[1]||(a[1]=x((()=>{}),["stop"]))},{default:V((()=>[k("\n        Add an empty element to avoid render label,\n        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485\n      "),We])),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(b(),C(d,{key:2,class:E(e.ns.e("prefix"))},{default:V((()=>[w(r)])),_:1},8,["class"])):k("v-if",!0),k(" content "),w(c),k(" postfix "),e.isLeaf?k("v-if",!0):(b(),y(S,{key:3},[e.node.loading?(b(),C(d,{key:0,class:E([e.ns.is("loading"),e.ns.e("postfix")])},{default:V((()=>[w(u)])),_:1},8,["class"])):(b(),C(d,{key:1,class:E(["arrow-right",e.ns.e("postfix")])},{default:V((()=>[w(p)])),_:1},8,["class"]))],2112))],42,Ze)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]])},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const a=L(),l=c("cascader-menu"),{t:t}=ke(),n=ue();let o=null,s=null;const i=m(Ue),r=j(null),d=v((()=>!e.nodes.length)),u=v((()=>!i.initialLoaded)),p=v((()=>`cascader-menu-${n}-${e.index}`)),h=()=>{s&&(clearTimeout(s),s=null)},f=()=>{r.value&&(r.value.innerHTML="",h())};return{ns:l,panel:i,hoverZone:r,isEmpty:d,isLoading:u,menuId:p,t:t,handleExpand:e=>{o=e.target},handleMouseMove:e=>{if(i.isHoverMenu&&o&&r.value)if(o.contains(e.target)){h();const l=a.vnode.el,{left:t}=l.getBoundingClientRect(),{offsetWidth:n,offsetHeight:s}=l,i=e.clientX-t,d=o.offsetTop,c=d+o.offsetHeight;r.value.innerHTML=`\n          <path style="pointer-events: auto;" fill="transparent" d="M${i} ${d} L${n} 0 V${d} Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M${i} ${c} L${n} ${s} V${c} Z" />\n        `}else s||(s=window.setTimeout(f,i.config.hoverThreshold))},clearHoverZone:f}}}),[["render",function(e,a,l,t,n,o){const s=g("el-cascader-node"),i=g("loading"),r=g("el-icon"),d=g("el-scrollbar");return b(),C(d,{key:e.menuId,tag:"ul",role:"menu",class:E(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:V((()=>{var a;return[(b(!0),y(S,null,$(e.nodes,(a=>(b(),C(s,{key:a.uid,node:a,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"])))),128)),e.isLoading?(b(),y("div",{key:0,class:E(e.ns.e("empty-text"))},[w(r,{size:"14",class:E(e.ns.is("loading"))},{default:V((()=>[w(i)])),_:1},8,["class"]),_(" "+D(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(b(),y("div",{key:1,class:E(e.ns.e("empty-text"))},D(e.t("el.cascader.noData")),3)):(null==(a=e.panel)?void 0:a.isHoverMenu)?(b(),y("svg",{key:2,ref:"hoverZone",class:E(e.ns.e("hover-zone"))},null,2)):k("v-if",!0)]})),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]),Ge=(e=>(e.CLICK="click",e.HOVER="hover",e))(Ge||{});let Qe=0;class Ye{constructor(e,a,l,t=!1){this.data=e,this.config=a,this.parent=l,this.root=t,this.uid=Qe++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:n,label:o,children:s}=a,i=e[s],r=(e=>{const a=[e];let{parent:l}=e;for(;l;)a.unshift(l),l=l.parent;return a})(this);this.level=t?0:l?l.level+1:1,this.value=e[n],this.label=e[o],this.pathNodes=r,this.pathValues=r.map((e=>e.value)),this.pathLabels=r.map((e=>e.label)),this.childrenData=i,this.children=(i||[]).map((e=>new Ye(e,a,this))),this.loaded=!a.lazy||this.isLeaf||!T(i)}get isDisabled(){const{data:e,parent:a,config:l}=this,{disabled:t,checkStrictly:n}=l;return(P(t)?t(e,this):!!e[t])||!n&&(null==a?void 0:a.isDisabled)}get isLeaf(){const{data:e,config:a,childrenData:l,loaded:t}=this,{lazy:n,leaf:o}=a,s=P(o)?o(e,this):e[o];return z(s)?!(n&&!t)&&!(Array.isArray(l)&&l.length):!!s}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:a,children:l}=this,t=new Ye(e,this.config,this);return Array.isArray(a)?a.push(e):this.childrenData=[e],l.push(t),t}calcText(e,a){const l=e?this.pathLabels.join(a):this.label;return this.text=l,l}broadcast(e,...a){const l=`onParent${I(e)}`;this.children.forEach((t=>{t&&(t.broadcast(e,...a),t[l]&&t[l](...a))}))}emit(e,...a){const{parent:l}=this,t=`onChild${I(e)}`;l&&(l[t]&&l[t](...a),l.emit(e,...a))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,a=e.filter((e=>!e.isDisabled)),l=!!a.length&&a.every((e=>e.checked));this.setCheckState(l)}setCheckState(e){const a=this.children.length,l=this.children.reduce(((e,a)=>e+(a.checked?1:a.indeterminate?.5:0)),0);this.checked=this.loaded&&this.children.filter((e=>!e.isDisabled)).every((e=>e.loaded&&e.checked))&&e,this.indeterminate=this.loaded&&l!==a&&l>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:a,multiple:l}=this.config;a||!l?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}}const Je=(e,a)=>e.reduce(((e,l)=>(l.isLeaf?e.push(l):(!a&&e.push(l),e=e.concat(Je(l.children,a))),e)),[]);class ea{constructor(e,a){this.config=a;const l=(e||[]).map((e=>new Ye(e,this.config)));this.nodes=l,this.allNodes=Je(l,!1),this.leafNodes=Je(l,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,a){const l=a?a.appendChild(e):new Ye(e,this.config);a||this.nodes.push(l),this.allNodes.push(l),l.isLeaf&&this.leafNodes.push(l)}appendNodes(e,a){e.forEach((e=>this.appendNode(e,a)))}getNodeByValue(e,a=!1){if(!e&&0!==e)return null;return this.getFlattedNodes(a).find((a=>Ce(a.value,e)||Ce(a.pathValues,e)))||null}getSameNode(e){if(!e)return null;return this.getFlattedNodes(!1).find((({value:a,level:l})=>Ce(e.value,a)&&e.level===l))||null}}const aa={modelValue:[Number,String,Array],options:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})}},la={expandTrigger:Ge.CLICK,multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:M,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},ta=e=>{if(!e)return 0;const a=e.id.split("-");return Number(a[a.length-2])};var na=f(d({name:"ElCascaderPanel",components:{ElCascaderMenu:Xe},props:r(i({},aa),{border:{type:Boolean,default:!0},renderLabel:Function}),emits:[Ee,Se,"close","expand-change"],setup(e,{emit:a,slots:l}){let t=!1;const n=c("cascader"),o=(e=>v((()=>i(i({},la),e.props))))(e);let s=null;const r=j(!0),d=j([]),u=j(null),p=j([]),h=j(null),m=j([]),f=v((()=>o.value.expandTrigger===Ge.HOVER)),g=v((()=>e.renderLabel||l.default)),b=(e,a)=>{const l=o.value;(e=e||new Ye({},l,void 0,!0)).loading=!0;l.lazyLoad(e,(l=>{const t=e,n=t.root?null:t;l&&(null==s||s.appendNodes(l,n)),t.loading=!1,t.loaded=!0,t.childrenData=t.childrenData||[],a&&a(l)}))},y=(e,l)=>{var t;const{level:n}=e,o=p.value.slice(0,n);let s;e.isLeaf?s=e.pathNodes[n-2]:(s=e,o.push(e.children)),(null==(t=h.value)?void 0:t.uid)!==(null==s?void 0:s.uid)&&(h.value=e,p.value=o,!l&&a("expand-change",(null==e?void 0:e.pathValues)||[]))},k=(e,l,n=!0)=>{const{checkStrictly:s,multiple:i}=o.value,r=m.value[0];t=!0,!i&&(null==r||r.doCheck(!1)),e.doCheck(l),w(),n&&!i&&!s&&a("close"),!n&&!i&&!s&&C(e)},C=e=>{e&&(e=e.parent,C(e),e&&y(e))},x=e=>null==s?void 0:s.getFlattedNodes(e),V=e=>{var a;return null==(a=x(e))?void 0:a.filter((e=>!1!==e.checked))},w=()=>{var e;const{checkStrictly:a,multiple:l}=o.value,t=((e,a)=>{const l=a.slice(0),t=l.map((e=>e.uid)),n=e.reduce(((e,a)=>{const n=t.indexOf(a.uid);return n>-1&&(e.push(a),l.splice(n,1),t.splice(n,1)),e}),[]);return n.push(...l),n})(m.value,V(!a)),n=t.map((e=>e.valueByOption));m.value=t,u.value=l?n:null!=(e=n[0])?e:null},E=(a=!1,l=!1)=>{const{modelValue:n}=e,{lazy:i,multiple:d,checkStrictly:c}=o.value,p=!c;var h;if(r.value&&!t&&(l||!Ce(n,u.value)))if(i&&!a){const e=Ne(null!=(h=je(n))&&h.length?_e(h,1/0):[]).map((e=>null==s?void 0:s.getNodeByValue(e))).filter((e=>!!e&&!e.loaded&&!e.loading));e.length?e.forEach((e=>{b(e,(()=>E(!1,l)))})):E(!0,l)}else{const e=d?je(n):[n],a=Ne(e.map((e=>null==s?void 0:s.getNodeByValue(e,p))));S(a,!1),u.value=n}},S=(e,a=!0)=>{const{checkStrictly:l}=o.value,t=m.value,n=e.filter((e=>!!e&&(l||e.isLeaf))),i=null==s?void 0:s.getSameNode(h.value),r=a&&i||n[0];r?r.pathNodes.forEach((e=>y(e,!0))):h.value=null,t.forEach((e=>e.doCheck(!1))),n.forEach((e=>e.doCheck(!0))),m.value=n,q(N)},N=()=>{K&&d.value.forEach((e=>{const a=null==e?void 0:e.$el;if(a){const e=a.querySelector(`.${n.namespace.value}-scrollbar__wrap`),l=a.querySelector(`.${n.b("node")}.${n.is("active")}`)||a.querySelector(`.${n.b("node")}.in-active-path`);$e(e,l)}}))};return F(Ue,H({config:o,expandingNode:h,checkedNodes:m,isHoverMenu:f,initialLoaded:r,renderLabelFn:g,lazyLoad:b,expandNode:y,handleCheckChange:k})),O([o,()=>e.options],(()=>{const{options:a}=e,l=o.value;t=!1,s=new ea(a,l),p.value=[s.getNodes()],l.lazy&&T(e.options)?(r.value=!1,b(void 0,(e=>{e&&(s=new ea(e,l),p.value=[s.getNodes()]),r.value=!0,E(!1,!0)}))):E(!1,!0)}),{deep:!0,immediate:!0}),O((()=>e.modelValue),(()=>{t=!1,E()})),O(u,(l=>{Ce(l,e.modelValue)||(a(Ee,l),a(Se,l))})),B((()=>d.value=[])),A((()=>!T(e.modelValue)&&E())),{ns:n,menuList:d,menus:p,checkedNodes:m,handleKeyDown:e=>{const a=e.target,{code:l}=e;switch(l){case U.up:case U.down:{e.preventDefault();const t=l===U.up?-1:1;Ve(we(a,t,`.${n.b("node")}[tabindex="-1"]`));break}case U.left:{e.preventDefault();const l=d.value[ta(a)-1],t=null==l?void 0:l.$el.querySelector(`.${n.b("node")}[aria-expanded="true"]`);Ve(t);break}case U.right:{e.preventDefault();const l=d.value[ta(a)+1],t=null==l?void 0:l.$el.querySelector(`.${n.b("node")}[tabindex="-1"]`);Ve(t);break}case U.enter:(e=>{if(!e)return;const a=e.querySelector("input");a?a.click():xe(e)&&e.click()})(a)}},handleCheckChange:k,getFlattedNodes:x,getCheckedNodes:V,clearCheckedNodes:()=>{m.value.forEach((e=>e.doCheck(!1))),w()},calculateCheckedValue:w,scrollToExpandingNode:N}}}),[["render",function(e,a,l,t,n,o){const s=g("el-cascader-menu");return b(),y("div",{class:E([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:a[0]||(a[0]=(...a)=>e.handleKeyDown&&e.handleKeyDown(...a))},[(b(!0),y(S,null,$(e.menus,((a,l)=>(b(),C(s,{key:l,ref_for:!0,ref:a=>e.menuList[l]=a,index:l,nodes:[...a]},null,8,["index","nodes"])))),128))],34)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);na.install=e=>{e.component(na.name,na)};const oa={large:36,default:32,small:28},sa={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:e})=>{const{modifiersData:a,placement:l}=e;["right","left","bottom","top"].includes(l)||(a.arrow.x=35)},requires:["arrow"]}]},ia=d({name:"ElCascader",components:{ElCascaderPanel:na,ElInput:de,ElTooltip:pe,ElScrollbar:ve,ElTag:De,ElIcon:p,CircleClose:R,Check:be,ArrowDown:Be},directives:{Clickoutside:Te},props:r(i({},aa),{size:{type:String,validator:Pe},placeholder:{type:String},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Function,default:(e,a)=>e.text.includes(a)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Function,default:()=>!0},popperClass:{type:String,default:""},teleported:he.teleported,tagType:r(i({},Le.type),{default:"info"})}),emits:[Ee,Se,"focus","blur","visible-change","expand-change","remove-tag"],setup(e,{emit:a}){let l=0,t=0;const n=c("cascader"),o=c("input"),{t:s}=ke(),i=m(ze,{}),r=m(Ie,{}),d=j(null),u=j(null),p=j(null),h=j(null),f=j(null),g=j(!1),b=j(!1),y=j(!1),k=j(""),C=j(""),x=j([]),V=j([]),w=j([]),E=j(!1),S=v((()=>e.disabled||i.disabled)),N=v((()=>e.placeholder||s("el.cascader.placeholder"))),$=Me(),_=v((()=>["small"].includes($.value)?"small":"default")),D=v((()=>!!e.props.multiple)),L=v((()=>!e.filterable||D.value)),T=v((()=>D.value?C.value:k.value)),P=v((()=>{var e;return(null==(e=h.value)?void 0:e.checkedNodes)||[]})),z=v((()=>!(!e.clearable||S.value||y.value||!b.value)&&!!P.value.length)),I=v((()=>{const{showAllLevels:a,separator:l}=e,t=P.value;return t.length?D.value?" ":t[0].calcText(a,l):""})),M=v({get:()=>e.modelValue,set(e){var l;a(Ee,e),a(Se,e),null==(l=r.validate)||l.call(r,"change").catch((e=>Fe()))}}),F=v((()=>{var e,a;return null==(a=null==(e=d.value)?void 0:e.popperRef)?void 0:a.contentRef})),H=l=>{var t,n,o;if(!S.value&&(l=null!=l?l:!g.value)!==g.value){if(g.value=l,null==(n=null==(t=u.value)?void 0:t.input)||n.setAttribute("aria-expanded",`${l}`),l)B(),q(null==(o=h.value)?void 0:o.scrollToExpandingNode);else if(e.filterable){const{value:e}=I;k.value=e,C.value=e}a("visible-change",l)}},B=()=>{q((()=>{var e;null==(e=d.value)||e.updatePopper()}))},R=()=>{y.value=!1},X=a=>{const{showAllLevels:l,separator:t}=e;return{node:a,key:a.uid,text:a.calcText(l,t),hitState:!1,closable:!S.value&&!a.isDisabled,isCollapseTag:!1}},G=e=>{var l;const t=e.node;t.doCheck(!1),null==(l=h.value)||l.calculateCheckedValue(),a("remove-tag",t.valueByOption)},Q=()=>{var a,l;const{filterMethod:t,showAllLevels:n,separator:o}=e,s=null==(l=null==(a=h.value)?void 0:a.getFlattedNodes(!e.props.checkStrictly))?void 0:l.filter((e=>!e.isDisabled&&(e.calcText(n,o),t(e,T.value))));D.value&&(x.value.forEach((e=>{e.hitState=!1})),V.value.forEach((e=>{e.hitState=!1}))),y.value=!0,w.value=s,B()},Y=()=>{var e;let a;a=y.value&&f.value?f.value.$el.querySelector(`.${n.e("suggestion-item")}`):null==(e=h.value)?void 0:e.$el.querySelector(`.${n.b("node")}[tabindex="-1"]`),a&&(a.focus(),!y.value&&a.click())},J=()=>{var e,a;const t=null==(e=u.value)?void 0:e.input,o=p.value,s=null==(a=f.value)?void 0:a.$el;if(K&&t){if(s){s.querySelector(`.${n.e("suggestion-list")}`).style.minWidth=`${t.offsetWidth}px`}if(o){const{offsetHeight:e}=o,a=x.value.length>0?`${Math.max(e+6,l)}px`:`${l}px`;t.style.height=a,B()}}},ee=Ae((()=>{const{value:a}=T;if(!a)return;const l=e.beforeFilter(a);Z(l)?l.then(Q).catch((()=>{})):!1!==l?Q():R()}),e.debounce),ae=(e,a)=>{!g.value&&H(!0),(null==a?void 0:a.isComposing)||(e?ee():R())};return O(y,B),O([P,S],(()=>{if(!D.value)return;const a=P.value,l=[],t=[];if(a.forEach((e=>t.push(X(e)))),V.value=t,a.length){const[t,...n]=a,o=n.length;l.push(X(t)),o&&(e.collapseTags?l.push({key:-1,text:`+ ${o}`,closable:!1,isCollapseTag:!0}):n.forEach((e=>l.push(X(e)))))}x.value=l})),O(x,(()=>{q((()=>J()))})),O(I,(e=>k.value=e),{immediate:!0}),A((()=>{var e;const a=null==(e=u.value)?void 0:e.$el;l=(null==a?void 0:a.offsetHeight)||oa[$.value]||40,He(a,J)})),W((()=>{var e;Oe(null==(e=u.value)?void 0:e.$el,J)})),{popperOptions:sa,tooltipRef:d,popperPaneRef:F,input:u,tagWrapper:p,panel:h,suggestionPanel:f,popperVisible:g,inputHover:b,inputPlaceholder:N,filtering:y,presentText:I,checkedValue:M,inputValue:k,searchInputValue:C,presentTags:x,allPresentTags:V,suggestions:w,isDisabled:S,isOnComposition:E,realSize:$,tagSize:_,multiple:D,readonly:L,clearBtnVisible:z,nsCascader:n,nsInput:o,t:s,togglePopperVisible:H,hideSuggestionPanel:R,deleteTag:G,focusFirstNode:Y,getCheckedNodes:e=>{var a;return null==(a=h.value)?void 0:a.getCheckedNodes(e)},handleExpandChange:e=>{B(),a("expand-change",e)},handleKeyDown:e=>{if(!E.value)switch(e.code){case U.enter:H();break;case U.down:H(!0),q(Y),e.preventDefault();break;case U.esc:!0===g.value&&(e.preventDefault(),e.stopPropagation(),H(!1));break;case U.tab:H(!1)}},handleComposition:e=>{var a;const l=null==(a=e.target)?void 0:a.value;if("compositionend"===e.type)E.value=!1,q((()=>ae(l)));else{const e=l[l.length-1]||"";E.value=!ce(e)}},handleClear:()=>{var e;null==(e=h.value)||e.clearCheckedNodes(),H(!1)},handleSuggestionClick:e=>{var a,l;const{checked:t}=e;D.value?null==(a=h.value)||a.handleCheckChange(e,!t,!1):(!t&&(null==(l=h.value)||l.handleCheckChange(e,!0,!1)),H(!1))},handleSuggestionKeyDown:e=>{const a=e.target,{code:l}=e;switch(l){case U.up:case U.down:{const e=l===U.up?-1:1;Ve(we(a,e,`.${n.e("suggestion-item")}[tabindex="-1"]`));break}case U.enter:a.click()}},handleDelete:()=>{const e=x.value,a=e[e.length-1];t=C.value?0:t+1,a&&t&&(a.hitState?G(a):a.hitState=!0)},handleInput:ae}}}),ra={key:0},da={class:"el-cascader__collapse-tags"},ca=["placeholder"],ua=["onClick"];var pa=f(ia,[["render",function(e,a,l,t,n,o){const s=g("circle-close"),i=g("el-icon"),r=g("arrow-down"),d=g("el-input"),c=g("el-tag"),u=g("el-tooltip"),p=g("el-cascader-panel"),h=g("check"),m=g("el-scrollbar"),v=X("clickoutside");return b(),C(u,{ref:"tooltipRef",visible:e.popperVisible,"onUpdate:visible":a[17]||(a[17]=a=>e.popperVisible=a),teleported:e.teleported,"popper-class":[e.nsCascader.e("dropdown"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${e.nsCascader.namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:e.hideSuggestionPanel},{default:V((()=>[G((b(),y("div",{class:E([e.nsCascader.b(),e.nsCascader.m(e.realSize),e.nsCascader.is("disabled",e.isDisabled),e.$attrs.class]),style:J(e.$attrs.style),onClick:a[11]||(a[11]=()=>e.togglePopperVisible(!e.readonly||void 0)),onKeydown:a[12]||(a[12]=(...a)=>e.handleKeyDown&&e.handleKeyDown(...a)),onMouseenter:a[13]||(a[13]=a=>e.inputHover=!0),onMouseleave:a[14]||(a[14]=a=>e.inputHover=!1)},[w(d,{ref:"input",modelValue:e.inputValue,"onUpdate:modelValue":a[1]||(a[1]=a=>e.inputValue=a),placeholder:e.searchInputValue?"":e.inputPlaceholder,readonly:e.readonly,disabled:e.isDisabled,"validate-event":!1,size:e.realSize,class:E(e.nsCascader.is("focus",e.popperVisible)),onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onFocus:a[2]||(a[2]=a=>e.$emit("focus",a)),onBlur:a[3]||(a[3]=a=>e.$emit("blur",a)),onInput:e.handleInput},{suffix:V((()=>[e.clearBtnVisible?(b(),C(i,{key:"clear",class:E([e.nsInput.e("icon"),"icon-circle-close"]),onClick:x(e.handleClear,["stop"])},{default:V((()=>[w(s)])),_:1},8,["class","onClick"])):(b(),C(i,{key:"arrow-down",class:E([e.nsInput.e("icon"),"icon-arrow-down",e.nsCascader.is("reverse",e.popperVisible)]),onClick:a[0]||(a[0]=x((a=>e.togglePopperVisible()),["stop"]))},{default:V((()=>[w(r)])),_:1},8,["class"]))])),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","onCompositionstart","onCompositionupdate","onCompositionend","onInput"]),e.multiple?(b(),y("div",{key:0,ref:"tagWrapper",class:E(e.nsCascader.e("tags"))},[(b(!0),y(S,null,$(e.presentTags,(a=>(b(),C(c,{key:a.key,type:e.tagType,size:e.tagSize,hit:a.hitState,closable:a.closable,"disable-transitions":"",onClose:l=>e.deleteTag(a)},{default:V((()=>[!1===a.isCollapseTag?(b(),y("span",ra,D(a.text),1)):(b(),C(u,{key:1,teleported:!1,disabled:e.popperVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:V((()=>[N("span",null,D(a.text),1)])),content:V((()=>[N("div",da,[(b(!0),y(S,null,$(e.allPresentTags,((a,l)=>(b(),y("div",{key:l,class:"el-cascader__collapse-tag"},[(b(),C(c,{key:a.key,class:"in-tooltip",type:e.tagType,size:e.tagSize,hit:a.hitState,closable:a.closable,"disable-transitions":"",onClose:l=>e.deleteTag(a)},{default:V((()=>[N("span",null,D(a.text),1)])),_:2},1032,["type","size","hit","closable","onClose"]))])))),128))])])),_:2},1032,["disabled"]))])),_:2},1032,["type","size","hit","closable","onClose"])))),128)),e.filterable&&!e.isDisabled?G((b(),y("input",{key:0,"onUpdate:modelValue":a[4]||(a[4]=a=>e.searchInputValue=a),type:"text",class:E(e.nsCascader.e("search-input")),placeholder:e.presentText?"":e.inputPlaceholder,onInput:a[5]||(a[5]=a=>e.handleInput(e.searchInputValue,a)),onClick:a[6]||(a[6]=x((a=>e.togglePopperVisible(!0)),["stop"])),onKeydown:a[7]||(a[7]=Q(((...a)=>e.handleDelete&&e.handleDelete(...a)),["delete"])),onCompositionstart:a[8]||(a[8]=(...a)=>e.handleComposition&&e.handleComposition(...a)),onCompositionupdate:a[9]||(a[9]=(...a)=>e.handleComposition&&e.handleComposition(...a)),onCompositionend:a[10]||(a[10]=(...a)=>e.handleComposition&&e.handleComposition(...a))},null,42,ca)),[[Y,e.searchInputValue]]):k("v-if",!0)],2)):k("v-if",!0)],38)),[[v,()=>e.togglePopperVisible(!1),e.popperPaneRef]])])),content:V((()=>[G(w(p,{ref:"panel",modelValue:e.checkedValue,"onUpdate:modelValue":a[15]||(a[15]=a=>e.checkedValue=a),options:e.options,props:e.props,border:!1,"render-label":e.$slots.default,onExpandChange:e.handleExpandChange,onClose:a[16]||(a[16]=a=>e.$nextTick((()=>e.togglePopperVisible(!1))))},null,8,["modelValue","options","props","render-label","onExpandChange"]),[[ee,!e.filtering]]),e.filterable?G((b(),C(m,{key:0,ref:"suggestionPanel",tag:"ul",class:E(e.nsCascader.e("suggestion-panel")),"view-class":e.nsCascader.e("suggestion-list"),onKeydown:e.handleSuggestionKeyDown},{default:V((()=>[e.suggestions.length?(b(!0),y(S,{key:0},$(e.suggestions,(a=>(b(),y("li",{key:a.uid,class:E([e.nsCascader.e("suggestion-item"),e.nsCascader.is("checked",a.checked)]),tabindex:-1,onClick:l=>e.handleSuggestionClick(a)},[N("span",null,D(a.text),1),a.checked?(b(),C(i,{key:0},{default:V((()=>[w(h)])),_:1})):k("v-if",!0)],10,ua)))),128)):ae(e.$slots,"empty",{key:1},(()=>[N("li",{class:E(e.nsCascader.e("empty-text"))},D(e.t("el.cascader.noMatch")),3)]))])),_:3},8,["class","view-class","onKeydown"])),[[ee,e.filtering]]):k("v-if",!0)])),_:3},8,["visible","teleported","popper-class","popper-options","transition","onHide"])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/index.vue"]]);pa.install=e=>{e.component(pa.name,pa)};const ha=pa;var ma=fe({name:"index",props:{modelValue:{type:Array,default:()=>[]},size:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:a}){const l=e,t=j({options:le,props:{value:"code",label:"name"}}),n=v({get:()=>{const e=[];if(3===l.modelValue.length){const[a,t,n]=l.modelValue;le.map((l=>{l.name===a&&(e.push(l.code),l.children.map((a=>{a.name===t&&(e.push(a.code),a.children.map((a=>{a.name===n&&e.push(a.code)})))})))}))}return e},set:e=>{if(e){let[l,t,n]=e;le.map((e=>{e.code===l&&(l=e.name,e.children.map((e=>{e.code===t&&(t=e.name,e.children.map((e=>{e.code===n&&(n=e.name)})))})))})),a("update:modelValue",[l,t,n])}else a("update:modelValue",[])}});return(a,l)=>{const o=ha;return b(),y("div",null,[w(o,{modelValue:te(n),"onUpdate:modelValue":l[0]||(l[0]=e=>ne(n)?n.value=e:null),options:t.value.options,props:t.value.props,size:e.size,disabled:e.disabled,clearable:"",filterable:""},null,8,["modelValue","options","props","size","disabled"])])}}},[["__scopeId","data-v-508f6864"]]);const va={name:"ComponentExampleArea",props:{},data:()=>({area:["浙江省","杭州市","西湖区"],ruleForm:{area:[]},rules:{area:[{type:"array",required:!0,message:"请选择地区",trigger:"change"}]}}),created(){},mounted(){},methods:{submitForm(){this.$refs.ruleForm.validate((e=>{e&&alert("提交成功")}))}}},fa=_("提交");var ga=fe(va,[["render",function(e,a,l,t,n,o){const s=qe,i=ma,r=re,d=oe,c=ie,u=se;return b(),y("div",null,[w(s,{title:"省市区联动",content:"CascaderArea"}),w(r,null,{default:V((()=>[w(i,{modelValue:n.area,"onUpdate:modelValue":a[0]||(a[0]=e=>n.area=e)},null,8,["modelValue"])])),_:1}),w(r,{title:"表单验证"},{default:V((()=>[w(u,{ref:"ruleForm",model:n.ruleForm,rules:n.rules},{default:V((()=>[w(d,{label:"地区",prop:"area"},{default:V((()=>[w(i,{modelValue:n.ruleForm.area,"onUpdate:modelValue":a[1]||(a[1]=e=>n.ruleForm.area=e)},null,8,["modelValue"])])),_:1}),w(d,null,{default:V((()=>[w(c,{type:"primary",onClick:o.submitForm},{default:V((()=>[fa])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","rules"])])),_:1})])}],["__scopeId","data-v-53ddef65"]]);export{ga as default};
