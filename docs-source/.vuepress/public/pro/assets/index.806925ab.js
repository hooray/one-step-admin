
/**
 * 由 Fantastic-admin-discovery 提供技术支持
 * https://hooray.gitee.io/fantastic-admin-discovery/
 * Powered by Fantastic-admin-discovery
 * https://hooray.github.io/fantastic-admin-discovery/
 */
    
import{_ as Z}from"./index.1ee8d9f4.js";import{_ as ee}from"./index.9ef3d4c9.js";import{_ as ae}from"./index.d16fb8b8.js";import{_ as oe}from"./index.e01cfd04.js";import{a1 as te,a4 as ne,aa as le,r as s,an as se,o as _,I as ie,l as e,j as o,R as y,K as M,L as de,i as p,M as k,k as h,T as d,O as re,P as ue,m as ce,J as _e}from"./vendor.6b4522dc.js";import{u as me}from"./pagination.2d6702d3.js";import pe from"./index.31c6a008.js";import{_ as fe}from"./plugin-vue_export-helper.5a098b48.js";import"./index.17d9a69a.js";const ge=b=>(re("data-v-1ae2677a"),b=b(),ue(),b),he=d("\u65B0\u589E\u7BA1\u7406\u5458"),be=d("\u5168\u90E8"),ve=d("\u7537"),we=d("\u5973"),Ce=d("\u4FDD\u5BC6"),xe=d("\u7B5B \u9009"),ye=d("\u6279\u91CF\u64CD\u4F5C"),ke=d("\u7537"),Ve=d("\u5973"),$e=d("\u4FDD\u5BC6"),Me=d("\u7F16\u8F91"),ze=d(" \u66F4\u591A\u64CD\u4F5C"),Pe=ge(()=>_e("i",{class:"el-icon-arrow-down el-icon--right"},null,-1)),Le=d("\u91CD\u7F6E\u5BC6\u7801"),Se=d("\u5220\u9664"),je=te({name:"PagesExampleManagerList"});function Ue(b){const{pagination:m,getParams:z,onSizeChange:P,onCurrentChange:L,onSortChange:S}=me(),{proxy:r}=ce(),a=ne({loading:!1,formMode:"dialog",formModeProps:{visible:!1,id:""},search:{account:"",name:"",mobile:"",sex:""},searchMore:!1,batch:{enable:!0,selectionDataList:[]},dataList:[]});le(()=>{i()});function i(){a.value.loading=!0;let n=z();a.value.search.account&&(n.account=a.value.search.account),a.value.search.name&&(n.name=a.value.search.name),a.value.search.mobile&&(n.mobile=a.value.search.mobile),a.value.search.sex!=""&&(n.sex=a.value.search.sex),r.$api.get("pages_example/manager/list",{baseURL:"/mock/",params:n}).then(t=>{a.value.loading=!1,a.value.dataList=t.data.list,m.value.total=t.data.total})}function j(n){P(n).then(()=>i())}function U(n){L(n).then(()=>i())}function K(n,t){S(n,t).then(()=>i())}function D(){a.value.formModeProps.id="",a.value.formModeProps.visible=!0}function I(n){a.value.formModeProps.id=n.id,a.value.formModeProps.visible=!0}function R(n,t){r.$confirm(`\u786E\u8BA4${n?"\u542F\u7528":"\u505C\u7528"}\u300C${t.account}\u300D\u5417\uFF1F`,"\u786E\u8BA4\u4FE1\u606F").then(()=>{r.$api.post("pages_example/manager/change/status",{id:t.id,status:n},{baseURL:"/mock/"}).then(()=>{r.$message.success({message:`\u6A21\u62DF${n?"\u542F\u7528":"\u505C\u7528"}\u6210\u529F`,center:!0})})}).catch(()=>{t.status=!n})}function N(n){r.$confirm(`\u786E\u8BA4\u5C06\u300C${n.account}\u300D\u7684\u5BC6\u7801\u91CD\u7F6E\u4E3A \u201C123456\u201D \u5417\uFF1F`,"\u786E\u8BA4\u4FE1\u606F").then(()=>{r.$api.post("pages_example/manager/password/reset",{id:n.id},{baseURL:"/mock/"}).then(()=>{r.$message.success({message:"\u6A21\u62DF\u91CD\u7F6E\u6210\u529F",center:!0})})}).catch(()=>{})}function B(n){r.$confirm(`\u786E\u8BA4\u5220\u9664\u300C${n.account}\u300D\u7BA1\u7406\u5458\u5417\uFF1F`,"\u786E\u8BA4\u4FE1\u606F").then(()=>{r.$api.post("pages_example/manager/delete",{id:n.id},{baseURL:"/mock/"}).then(()=>{i(),r.$message.success({message:"\u6A21\u62DF\u5220\u9664\u6210\u529F",center:!0})})}).catch(()=>{})}function E(n,t){switch(n){case"resetPassword":N(t);break;case"delete":B(t);break}}return(n,t)=>{const O=oe,f=s("el-button"),C=s("el-input"),g=s("el-form-item"),v=s("el-col"),V=s("el-row"),w=s("el-radio-button"),T=s("el-radio-group"),A=s("el-form"),F=ae,J=ee,c=s("el-table-column"),x=s("el-tag"),q=s("el-switch"),$=s("el-dropdown-item"),G=s("el-dropdown-menu"),H=s("el-dropdown"),Q=s("el-table"),W=s("el-pagination"),X=Z,Y=se("loading");return _(),ie("div",null,[e(O,{title:"\u7BA1\u7406\u5458\u7BA1\u7406",content:"\u9875\u9762\u6570\u636E\u4E3A Mock \u793A\u4F8B\u6570\u636E\uFF0C\u975E\u771F\u5B9E\u6570\u636E\u3002"}),e(X,null,{default:o(()=>[e(f,{type:"primary",icon:"el-icon-plus",onClick:D},{default:o(()=>[he]),_:1}),e(F,{"show-more":"",onToggle:t[4]||(t[4]=l=>a.value.searchMore=l)},{default:o(()=>[e(A,{model:a.value.search,size:"small","label-width":"100px","label-suffix":"\uFF1A"},{default:o(()=>[e(V,null,{default:o(()=>[e(v,{md:8},{default:o(()=>[e(g,{label:"\u5E10\u53F7"},{default:o(()=>[e(C,{modelValue:a.value.search.account,"onUpdate:modelValue":t[0]||(t[0]=l=>a.value.search.account=l),placeholder:"\u8BF7\u8F93\u5165\u5E10\u53F7\uFF0C\u652F\u6301\u6A21\u7CCA\u67E5\u8BE2",clearable:"",onKeydown:y(i,["enter"]),onClear:i},null,8,["modelValue","onKeydown"])]),_:1})]),_:1}),e(v,{md:8},{default:o(()=>[e(g,{label:"\u59D3\u540D"},{default:o(()=>[e(C,{modelValue:a.value.search.name,"onUpdate:modelValue":t[1]||(t[1]=l=>a.value.search.name=l),placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D\uFF0C\u652F\u6301\u6A21\u7CCA\u67E5\u8BE2",clearable:"",onKeydown:y(i,["enter"]),onClear:i},null,8,["modelValue","onKeydown"])]),_:1})]),_:1}),e(v,{md:8},{default:o(()=>[e(g,{label:"\u624B\u673A\u53F7"},{default:o(()=>[e(C,{modelValue:a.value.search.mobile,"onUpdate:modelValue":t[2]||(t[2]=l=>a.value.search.mobile=l),placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",clearable:"",onKeydown:y(i,["enter"]),onClear:i},null,8,["modelValue","onKeydown"])]),_:1})]),_:1})]),_:1}),M(e(V,null,{default:o(()=>[e(v,{md:8},{default:o(()=>[e(g,{label:"\u6027\u522B"},{default:o(()=>[e(T,{modelValue:a.value.search.sex,"onUpdate:modelValue":t[3]||(t[3]=l=>a.value.search.sex=l),onChange:i},{default:o(()=>[e(w,{label:""},{default:o(()=>[be]),_:1}),e(w,{label:"1"},{default:o(()=>[ve]),_:1}),e(w,{label:"0"},{default:o(()=>[we]),_:1}),e(w,{label:"2"},{default:o(()=>[Ce]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},512),[[de,a.value.searchMore]]),e(g,null,{default:o(()=>[e(f,{type:"primary",icon:"el-icon-search",onClick:i},{default:o(()=>[xe]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),a.value.batch.enable?(_(),p(J,{key:0,data:a.value.dataList,"selection-data":a.value.batch.selectionDataList,onCheckAll:t[5]||(t[5]=l=>n.$refs.table.toggleAllSelection()),onCheckNull:t[6]||(t[6]=l=>n.$refs.table.clearSelection())},{default:o(()=>[e(f,{size:"small"},{default:o(()=>[ye]),_:1})]),_:1},8,["data","selection-data"])):k("v-if",!0),M(e(Q,{ref:(l,u)=>{u.table=l},class:"list-table",data:a.value.dataList,border:"",stripe:"","highlight-current-row":"",onSortChange:K,onSelectionChange:t[7]||(t[7]=l=>a.value.batch.selectionDataList=l)},{default:o(()=>[a.value.batch.enable?(_(),p(c,{key:0,type:"selection",align:"center",fixed:""})):k("v-if",!0),e(c,{prop:"account",sortable:"",label:"\u5E10\u53F7"}),e(c,{prop:"name",label:"\u59D3\u540D",width:"100",align:"center"}),e(c,{prop:"sex",label:"\u6027\u522B",width:"100",align:"center"},{default:o(l=>[l.row.sex==1?(_(),p(x,{key:0,type:"success",size:"small"},{default:o(()=>[ke]),_:1})):l.row.sex==0?(_(),p(x,{key:1,type:"warning",size:"small"},{default:o(()=>[Ve]),_:1})):(_(),p(x,{key:2,type:"info",size:"small"},{default:o(()=>[$e]),_:1}))]),_:1}),e(c,{prop:"mobile",label:"\u624B\u673A\u53F7",width:"150",align:"center"}),e(c,{label:"\u72B6\u6001",width:"100",align:"center"},{default:o(l=>[e(q,{modelValue:l.row.status,"onUpdate:modelValue":u=>l.row.status=u,onChange:u=>R(u,l.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(c,{label:"\u64CD\u4F5C",width:"200",align:"center",fixed:"right"},{default:o(l=>[e(f,{type:"primary",size:"mini",plain:"",onClick:u=>I(l.row)},{default:o(()=>[Me]),_:2},1032,["onClick"]),e(H,{onCommand:u=>E(u,l.row)},{dropdown:o(()=>[e(G,null,{default:o(()=>[e($,{command:"resetPassword"},{default:o(()=>[Le]),_:1}),e($,{command:"delete",divided:""},{default:o(()=>[Se]),_:1})]),_:1})]),default:o(()=>[e(f,{size:"mini"},{default:o(()=>[ze,Pe]),_:1})]),_:2},1032,["onCommand"])]),_:1})]),_:1},8,["data"]),[[Y,a.value.loading]]),e(W,{"current-page":h(m).page,total:h(m).total,"page-size":h(m).size,"page-sizes":h(m).sizes,layout:h(m).layout,"hide-on-single-page":!1,class:"pagination",background:"",onCurrentChange:U,onSizeChange:j},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1}),["dialog","drawer"].includes(a.value.formMode)?(_(),p(pe,{key:0,id:a.value.formModeProps.id,modelValue:a.value.formModeProps.visible,"onUpdate:modelValue":t[8]||(t[8]=l=>a.value.formModeProps.visible=l),mode:a.value.formMode,onSuccess:i},null,8,["id","modelValue","mode"])):k("v-if",!0)])}}const Ke=Object.assign(je,{setup:Ue});var Fe=fe(Ke,[["__scopeId","data-v-1ae2677a"]]);export{Fe as default};
