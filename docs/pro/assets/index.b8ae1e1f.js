
/**
 * 由 One-step-admin 提供技术支持
 * https://hooray.gitee.io/one-step-admin/
 * Powered by One-step-admin
 * https://hooray.github.io/one-step-admin/
 */
    
import{_ as a}from"./index.e5c277f9.js";import{_ as e}from"./index.9dc02013.js";import{r as t,s as l,S as n,a0 as o,z as s,o as p,k as d,A as i,x as r,l as c,Y as u,B as g,u as m,m as f}from"./vendor.6ae38f98.js";const h={class:"map"},v={class:"search-name"},y=["title"];var A=e({props:{v:{type:String,default:"1.4.15"},appkey:{type:String,default:""},height:{type:[Number,String],default:500},lnglat:{type:Array,default:()=>[]}},emits:["update:lnglat"],setup(a,{emit:e}){const f=a,A=t("");let M="",k="",_="";const b=l((()=>"string"==typeof f.height?f.height:`${f.height}px`));function x(){M=new AMap.Map("amap",{zoom:12}),AMap.plugin("AMap.ToolBar",(()=>{let a=new AMap.ToolBar;M.addControl(a)})),k=new AMap.Marker({draggable:!0,cursor:"move"}),k.on("dragend",(a=>{e("update:lnglat",[a.lnglat.lng,a.lnglat.lat])})),_=new AMap.Autocomplete,M.on("click",(a=>{w(a.lnglat.getLng(),a.lnglat.getLat())})),2==f.lnglat.length&&w(f.lnglat[0],f.lnglat[1])}function w(a,t){M.remove(k),k.setPosition([a,t]),M.add(k),M.setFitView(),e("update:lnglat",[a,t])}function S(a,e){_.search(a,((a,t)=>{e(t.tips)}))}function C(a){A.value=a.name,a.location?w(a.location.lng,a.location.lat):M.setCity(a.adcode)}return n((()=>{if("undefined"==typeof AMap){let a=document.createElement("script");a.charset="UTF-8",a.src=`https://webapi.amap.com/maps?v=${f.v}&key=${f.appkey}&plugin=AMap.Autocomplete`,document.head.appendChild(a),a.onload=()=>{x()}}else o((()=>{x()}))})),(a,e)=>{const t=s("el-autocomplete");return p(),d("div",h,[i(t,{modelValue:A.value,"onUpdate:modelValue":e[0]||(e[0]=a=>A.value=a),class:"search","fetch-suggestions":S,"trigger-on-focus":!1,clearable:"","prefix-icon":"el-icon-location-information",placeholder:"请输入地址关键字",onSelect:C},{default:r((({item:a})=>[c("div",v,u(a.name),1),c("span",{class:"search-address",title:a.district+a.address},u(a.district+a.address),9,y)])),_:1},8,["modelValue"]),c("div",{id:"amap",style:g(`height:${m(b)};`)},null,4)])}}},[["__scopeId","data-v-2e5359b0"]]);var M=e({name:"ComponentExampleAmap",props:{},data:()=>({lnglat:[120.068384,30.290939]}),created(){},mounted(){},methods:{}},[["render",function(e,t,l,n,o,s){const g=A,m=a;return p(),d("div",null,[i(m,null,{default:r((()=>[c("div",null,"经纬度："+u(o.lnglat),1),f(" 注意这里替换高德地图的appkey "),i(g,{lnglat:o.lnglat,"onUpdate:lnglat":t[0]||(t[0]=a=>o.lnglat=a),appkey:"8f7844cc502e17bb549c04c9aaadaf94",height:600},null,8,["lnglat"])])),_:1})])}],["__scopeId","data-v-755ff3c4"]]);export{M as default};
