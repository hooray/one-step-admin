
/**
 * 由 One-step-admin 提供技术支持
 * Powered by One-step-admin
 * https://one-step-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/one-step-admin
 * Github https://github.com/hooray/one-step-admin
 */
    
import{o as e,c as s,c2 as i,H as r,u as o,b as a,g as t,w as n,i as l,a as u,t as p,h as m,y as d,A as c,B as b}from"./index.89c4a536.js";import{_ as f}from"./index.2dae895c.js";import{_ as v}from"./index.7ae327c0.js";/* empty css                        */import{E as w,a as g}from"./el-button.ee77ba8f.js";/* empty css               *//* empty css                       *//* empty css                        */import{v as _,L as j}from"./el-loading.a11d3df9.js";import{E as y,a as h}from"./index.d974899f.js";import{E as x}from"./index.b6762400.js";/* empty css                */import"./index.0dfe2aba.js";import"./index.a744c982.js";import"./event.87cd92d6.js";import"./error.67356979.js";const k={install(e){e.directive("loading",_),e.config.globalProperties.$loading=j},directive:_,service:j},C={props:{value:{type:Array,default:()=>[]}},setup(o){const a=o;return(o,t)=>(e(),s("div",null,[i(a.value)?r(o.$slots,"default",{key:0}):r(o.$slots,"no-auth",{key:1})]))}},$={key:0},A={key:1},E=u("h3",null,"切换帐号",-1),V=u("h3",null,"帐号权限",-1),P=u("h3",null,"鉴权组件（请对照代码查看）",-1),B=d("你有 permission.browse 权限"),H=d("你没有 permission.browse 权限"),L=d("你有 permission.create 权限"),T=d("你没有 permission.create 权限"),U=d("你有 permission.browse 或 permission.create 权限"),q=d("你没有 permission.browse 或 permission.create 权限"),z=d("你有 permission.browse 和 permission.create 权限"),D=d("你没有 permission.browse 和 permission.create 权限"),F=u("h3",null,"鉴权指令（请对照代码查看）",-1),G=[d(" 如果你有 permission.browse 权限则能看到这句话 ")],I=[d(" 如果你有 permission.create 权限则能看到这句话 ")],J=[d(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ")],K=[d(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ")],M=u("h3",null,"鉴权函数（请对照代码查看）",-1),N=d("校验 permission.browse 权限"),O=d("校验 permission.create 权限"),Q=d("校验 permission.browse 或 permission.create 权限"),R=d("校验 permission.browse 和 permission.create 权限"),S={setup(i){const{proxy:r}=b(),d=o(),_=a();function j(e){k.service({lock:!0,text:"帐号切换中",background:"rgba(0, 0, 0, 0.7)"}),_.login({account:e,password:""}).then((()=>{setTimeout((()=>{location.reload()}),1e3)}))}function S(e){r.$auth(e)?c.success("校验通过"):c.error("校验不通过")}return(i,o)=>{const a=y,b=h,k=x,W=f,X=C,Y=w,Z=g,ee=v,se=f,ie=C;return e(),s("div",null,[t(ee,null,{default:n((()=>[l(d).app.enablePermission?(e(),s("div",A,[E,t(b,{modelValue:l(_).account,"onUpdate:modelValue":o[0]||(o[0]=e=>l(_).account=e),onChange:j},{default:n((()=>[t(a,{label:"admin"}),t(a,{label:"test"})])),_:1},8,["modelValue"]),V,u("div",null,p(l(_).permissions),1),P,u("div",null,[t(W,{value:"permission.browse",style:{"margin-bottom":"10px"}},{"no-auth":n((()=>[t(k,{type:"danger"},{default:n((()=>[H])),_:1})])),default:n((()=>[t(k,null,{default:n((()=>[B])),_:1})])),_:1}),t(W,{value:"permission.create",style:{"margin-bottom":"10px"}},{"no-auth":n((()=>[t(k,{type:"danger"},{default:n((()=>[T])),_:1})])),default:n((()=>[t(k,null,{default:n((()=>[L])),_:1})])),_:1}),t(W,{value:["permission.browse","permission.create"],style:{"margin-bottom":"10px"}},{"no-auth":n((()=>[t(k,{type:"danger"},{default:n((()=>[q])),_:1})])),default:n((()=>[t(k,null,{default:n((()=>[U])),_:1})])),_:1},8,["value"]),t(X,{value:["permission.browse","permission.create"]},{"no-auth":n((()=>[t(k,{type:"danger"},{default:n((()=>[D])),_:1})])),default:n((()=>[t(k,null,{default:n((()=>[z])),_:1})])),_:1},8,["value"])]),F,u("div",null,[m((e(),s("div",null,G)),[[se,"permission.browse"]]),m((e(),s("div",null,I)),[[se,"permission.create"]]),m((e(),s("div",null,J)),[[se,["permission.browse","permission.create"]]]),m((e(),s("div",null,K)),[[ie,["permission.browse","permission.create"]]])]),M,u("div",null,[t(Z,{style:{display:"block","margin-bottom":"10px"}},{default:n((()=>[t(Y,{onClick:o[1]||(o[1]=e=>S("permission.browse"))},{default:n((()=>[N])),_:1}),t(Y,{onClick:o[2]||(o[2]=e=>S("permission.create"))},{default:n((()=>[O])),_:1})])),_:1}),t(Z,null,{default:n((()=>[t(Y,{onClick:o[3]||(o[3]=e=>S(["permission.browse","permission.create"]))},{default:n((()=>[Q])),_:1}),t(Y,{onClick:o[4]||(o[4]=e=>{return s=["permission.browse","permission.create"],void(r.$authAll(s)?c.success("校验通过"):c.error("校验不通过"));var s})},{default:n((()=>[R])),_:1})])),_:1})])])):(e(),s("div",$,"请到 seeting.js 里打开权限功能，再进入该页面查看演示"))])),_:1})])}}};export{S as default};
