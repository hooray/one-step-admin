
/**
 * 由 One-step-admin 提供技术支持
 * https://hooray.gitee.io/one-step-admin/
 * Powered by One-step-admin
 * https://hooray.github.io/one-step-admin/
 */
    
import{_ as e}from"./index.d92f6c0c.js";import{k as s,l as r,u as o,a}from"./index.091d1180.js";import{o as i,k as l,a3 as n,A as t,x as u,z as p,ap as m,u as d,l as c,Y as b,T as f,$ as v,C as g}from"./vendor.b0dde714.js";const w={props:{value:{type:Array,default:()=>[]}},setup(e){const r=e;return(e,o)=>(i(),l("div",null,[s(r.value)?n(e.$slots,"default",{key:0}):n(e.$slots,"no-auth",{key:1})]))}},_={props:{value:{type:[String,Array],default:""}},setup(e){const s=e;return(e,o)=>(i(),l("div",null,[r(s.value)?n(e.$slots,"default",{key:0}):n(e.$slots,"no-auth",{key:1})]))}},y={key:0},h={key:1},k=c("h3",null,"切换帐号",-1),$=c("h3",null,"帐号权限",-1),x=c("h3",null,"鉴权组件（请对照代码查看）",-1),C=v("你有 permission.browse 权限"),j=v("你没有 permission.browse 权限"),A=v("你有 permission.create 权限"),V=v("你没有 permission.create 权限"),T=v("你有 permission.browse 或 permission.create 权限"),z=v("你没有 permission.browse 或 permission.create 权限"),P=v("你有 permission.browse 和 permission.create 权限"),S=v("你没有 permission.browse 和 permission.create 权限"),U=c("h3",null,"鉴权指令（请对照代码查看）",-1),Y=[v(" 如果你有 permission.browse 权限则能看到这句话 ")],q=[v(" 如果你有 permission.create 权限则能看到这句话 ")],B=[v(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ")],D=[v(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ")],E=c("h3",null,"鉴权函数（请对照代码查看）",-1),F=v("校验 permission.browse 权限"),G=v("校验 permission.create 权限"),H=v("校验 permission.browse 或 permission.create 权限"),I=v("校验 permission.browse 和 permission.create 权限"),J={setup(s){const{proxy:r}=g(),n=o(),v=a();function J(e){r.$loading({lock:!0,text:"帐号切换中",background:"rgba(0, 0, 0, 0.7)"}),v.login({account:e,password:""}).then((()=>{setTimeout((()=>{location.reload()}),1e3)}))}function K(e){r.$auth(e)?r.$message.success("校验通过"):r.$message.error("校验不通过")}return(s,o)=>{const a=p("el-radio-button"),g=p("el-radio-group"),L=p("el-tag"),M=_,N=w,O=p("el-button"),Q=p("el-button-group"),R=e,W=m("auth"),X=m("auth-all");return i(),l("div",null,[t(R,null,{default:u((()=>[d(n).app.enablePermission?(i(),l("div",h,[k,t(g,{modelValue:d(v).account,"onUpdate:modelValue":o[0]||(o[0]=e=>d(v).account=e),onChange:J},{default:u((()=>[t(a,{label:"admin"}),t(a,{label:"test"})])),_:1},8,["modelValue"]),$,c("div",null,b(d(v).permissions),1),x,c("div",null,[t(M,{value:"permission.browse",style:{"margin-bottom":"10px"}},{"no-auth":u((()=>[t(L,{type:"danger"},{default:u((()=>[j])),_:1})])),default:u((()=>[t(L,null,{default:u((()=>[C])),_:1})])),_:1}),t(M,{value:"permission.create",style:{"margin-bottom":"10px"}},{"no-auth":u((()=>[t(L,{type:"danger"},{default:u((()=>[V])),_:1})])),default:u((()=>[t(L,null,{default:u((()=>[A])),_:1})])),_:1}),t(M,{value:["permission.browse","permission.create"],style:{"margin-bottom":"10px"}},{"no-auth":u((()=>[t(L,{type:"danger"},{default:u((()=>[z])),_:1})])),default:u((()=>[t(L,null,{default:u((()=>[T])),_:1})])),_:1},8,["value"]),t(N,{value:["permission.browse","permission.create"]},{"no-auth":u((()=>[t(L,{type:"danger"},{default:u((()=>[S])),_:1})])),default:u((()=>[t(L,null,{default:u((()=>[P])),_:1})])),_:1},8,["value"])]),U,c("div",null,[f((i(),l("div",null,Y)),[[W,"permission.browse"]]),f((i(),l("div",null,q)),[[W,"permission.create"]]),f((i(),l("div",null,B)),[[W,["permission.browse","permission.create"]]]),f((i(),l("div",null,D)),[[X,["permission.browse","permission.create"]]])]),E,c("div",null,[t(Q,{style:{display:"block","margin-bottom":"10px"}},{default:u((()=>[t(O,{onClick:o[1]||(o[1]=e=>K("permission.browse"))},{default:u((()=>[F])),_:1}),t(O,{onClick:o[2]||(o[2]=e=>K("permission.create"))},{default:u((()=>[G])),_:1})])),_:1}),t(Q,null,{default:u((()=>[t(O,{onClick:o[3]||(o[3]=e=>K(["permission.browse","permission.create"]))},{default:u((()=>[H])),_:1}),t(O,{onClick:o[4]||(o[4]=e=>{return s=["permission.browse","permission.create"],void(r.$authAll(s)?r.$message.success("校验通过"):r.$message.error("校验不通过"));var s})},{default:u((()=>[I])),_:1})])),_:1})])])):(i(),l("div",y,"请到 seeting.js 里打开权限功能，再进入该页面查看演示"))])),_:1})])}}};export{J as default};
