
/**
 * 由 Fantastic-admin-discovery 提供技术支持
 * https://hooray.gitee.io/fantastic-admin-discovery/
 * Powered by Fantastic-admin-discovery
 * https://hooray.github.io/fantastic-admin-discovery/
 */
    
import{_ as B}from"./index.3ac8c786.js";import{P as N,u as P,N as z,I as M,U as j,W as I,$ as R,r as b,o as _,q as v,s as f,x as l,A as F,L as U,y as m,H as E,D as V,B as A,C as L,Z as T}from"./vendor.1e66543d.js";import{_ as W}from"./plugin-vue_export-helper.5a098b48.js";var C={exports:{}};/*!
* screenfull
* v5.1.0 - 2020-12-24
* (c) Sindre Sorhus; MIT License
*/(function(i){(function(){var r=typeof window!="undefined"&&typeof window.document!="undefined"?window.document:{},p=i.exports,o=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,a=t.length,c={};n<a;n++)if(e=t[n],e&&e[1]in r){for(n=0;n<e.length;n++)c[t[0][n]]=e[n];return c}return!1}(),u={change:o.fullscreenchange,error:o.fullscreenerror},d={request:function(e,t){return new Promise(function(n,a){var c=function(){this.off("change",c),n()}.bind(this);this.on("change",c),e=e||r.documentElement;var s=e[o.requestFullscreen](t);s instanceof Promise&&s.then(c).catch(a)}.bind(this))},exit:function(){return new Promise(function(e,t){if(!this.isFullscreen){e();return}var n=function(){this.off("change",n),e()}.bind(this);this.on("change",n);var a=r[o.exitFullscreen]();a instanceof Promise&&a.then(n).catch(t)}.bind(this))},toggle:function(e,t){return this.isFullscreen?this.exit():this.request(e,t)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,t){var n=u[e];n&&r.addEventListener(n,t,!1)},off:function(e,t){var n=u[e];n&&r.removeEventListener(n,t,!1)},raw:o};if(!o){p?i.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(d,{isFullscreen:{get:function(){return Boolean(r[o.fullscreenElement])}},element:{enumerable:!0,get:function(){return r[o.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(r[o.fullscreenEnabled])}}}),p?i.exports=d:window.screenfull=d})()})(C);var g=C.exports;const k=i=>(A("data-v-417bd0f9"),i=i(),L(),i),D={class:"user"},O={class:"tools"},H=k(()=>f("span",{class:"title"},"\u67E5\u770B\u4E13\u4E1A\u7248",-1)),Z={key:0,class:"item"},G={class:"user-wrapper"},J=k(()=>f("i",{class:"el-icon-user-solid"},null,-1)),K=k(()=>f("i",{class:"el-icon-caret-bottom"},null,-1)),Q=E("\u4E2A\u4EBA\u8BBE\u7F6E"),X=E("\u9000\u51FA\u767B\u5F55"),Y=N({name:"UserMenu"});function ee(i){const{proxy:r}=T(),p=P(),o=z(),u=M(()=>g.isEnabled),d=j(!1);I(()=>{u.value&&g.on("change",n)}),R(()=>{u.value&&g.off("change",n)});function e(){p.commit("settings/updateThemeSetting",{previewAllWindows:!0})}function t(){g.toggle()}function n(){d.value=g.isFullscreen}function a(s){switch(s){case"setting":r.$window.add({title:"\u4E2A\u4EBA\u8BBE\u7F6E",name:"PersonalSetting"});break;case"logout":p.dispatch("user/logout").then(()=>{o.push({name:"login"})});break}}function c(){window.open(`https://hooray.${location.origin.includes("gitee")?"gitee":"github"}.io/fantastic-admin-discovery/pro`,"top")}return(s,w)=>{const h=B,x=b("el-avatar"),S=b("el-dropdown-item"),y=b("el-dropdown-menu"),$=b("el-dropdown");return _(),v("div",D,[f("div",O,[f("span",{class:"item item-pro",onClick:c},[l(h,{name:"pro"}),H]),s.$store.state.window.list.length>1?(_(),v("span",Z,[l(h,{name:"toolbar-preview-windows",onClick:e})])):F("v-if",!0),s.$store.state.settings.enableNavSearch?(_(),v("span",{key:1,class:"item",onClick:w[0]||(w[0]=q=>s.$eventBus.emit("global-search-toggle"))},[l(h,{name:"search"})])):F("v-if",!0),U(u)&&s.$store.state.settings.enableFullscreen?(_(),v("span",{key:2,class:"item",onClick:t},[l(h,{name:d.value?"fullscreen-exit":"fullscreen"},null,8,["name"])])):F("v-if",!0),s.$store.state.settings.enableThemeSetting?(_(),v("span",{key:3,class:"item",onClick:w[1]||(w[1]=q=>s.$eventBus.emit("global-theme-toggle"))},[l(h,{name:"toolbar-theme"})])):F("v-if",!0)]),l($,{class:"user-container",onCommand:a},{dropdown:m(()=>[l(y,{class:"user-dropdown"},{default:m(()=>[l(S,{command:"setting"},{default:m(()=>[Q]),_:1}),l(S,{divided:"",command:"logout"},{default:m(()=>[X]),_:1})]),_:1})]),default:m(()=>[f("div",G,[l(x,{size:"medium"},{default:m(()=>[J]),_:1}),E(" "+V(s.$store.state.user.account)+" ",1),K])]),_:1})])}}const ne=Object.assign(Y,{setup:ee});var re=W(ne,[["__scopeId","data-v-417bd0f9"]]);export{re as default};
