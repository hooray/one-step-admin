
/**
 * 由 One-step-admin 提供技术支持
 * https://hooray.gitee.io/one-step-admin/
 * Powered by One-step-admin
 * https://hooray.github.io/one-step-admin/
 */
    
var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t,i=(e,a)=>{for(var l in a||(a={}))n.call(a,l)&&s(e,l,a[l]);if(t)for(var l of t(a))o.call(a,l)&&s(e,l,a[l]);return e},d=(e,t)=>a(e,l(t));import{d as r,B as c,ah as u,E as p,aa as h,H as m,C as v,_ as f,aS as g,m as b,c as y,i as k,h as C,q as x,f as w,e as V,X as E,a1 as S,b as N,r as j,b0 as $,s as T,t as _,z as L,bm as D,Y as P,bb as z,bv as I,aM as M,D as H,U as F,T as B,bw as A,o as O,x as q,ap as K,aL as U,ao as R,bc as Z,Z as W,aT as X,w as Y,n as G,bt as J,a6 as Q,v as ee,W as ae,bx as le,g as te,aE as ne}from"./index.cc1bbbc5.js";import{E as oe,a as se}from"./el-form.59851de3.js";import{E as ie}from"./el-button.1491974b.js";import"./el-form-item.e866842d.js";import{_ as de}from"./index.3db21fe3.js";import{E as re,i as ce}from"./el-input.aeca5281.js";import{g as ue,E as pe,b as he}from"./el-popper.47c362c7.js";/* empty css               */import{E as me}from"./el-checkbox.f635c253.js";/* empty css                 */import{E as ve}from"./el-scrollbar.9a2c9297.js";import{_ as fe}from"./plugin-vue_export-helper.21dcd24c.js";import{b as ge}from"./index.018b7741.js";import{c as be}from"./check.bc0cf0ed.js";import{a as ye}from"./arrow-right.210e654d.js";import{u as ke}from"./index.e78a28cf.js";import{l as Ce}from"./isEqual.6d21abe3.js";import{i as xe,f as we,g as Ve}from"./aria.5d3f3c81.js";import{U as Ee,C as Se}from"./event.75bf56a9.js";import{u as Ne,c as je}from"./arrays.2485f575.js";import{s as $e}from"./scroll.86130aa3.js";import{b as Te}from"./_baseFlatten.8b289c41.js";import{E as _e,t as Le}from"./index.7486c8f0.js";import{C as De}from"./index.6eb1fb05.js";import{i as Pe}from"./validator.86336933.js";import{u as ze}from"./deprecation.31cc81cd.js";import{f as Ie,a as Me,u as He}from"./index.b70656fd.js";import{d as Fe}from"./error.b438369f.js";import{a as Be,r as Ae}from"./resize-event.6a6cb7ee.js";import{a as Oe}from"./arrow-down.d9c7c4da.js";import{d as qe}from"./debounce.8f59af2d.js";import{_ as Ke}from"./index.7d2f4006.js";import"./index.b88bc1db.js";/* empty css                */import"./index.236d052b.js";import"./typescript.b0ac2d0c.js";import"./index.5dd31558.js";import"./isNil.aac33454.js";import"./event.561dcd8a.js";import"./index.16f4bf6f.js";var Ue=r({name:"NodeContent",setup:()=>({ns:c("cascader-node")}),render(){const{ns:e}=this,{node:a,panel:l}=this.$parent,{data:t,label:n}=a,{renderLabelFn:o}=l;return u("span",{class:e.e("label")},o?o({node:a,data:t}):n)}});const Re=Symbol(),Ze=r({name:"ElCascaderNode",components:{ElCheckbox:me,ElRadio:ge,NodeContent:Ue,ElIcon:p,Check:be,Loading:h,ArrowRight:ye},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:a}){const l=m(Re),t=c("cascader-node"),n=v((()=>l.isHoverMenu)),o=v((()=>l.config.multiple)),s=v((()=>l.config.checkStrictly)),i=v((()=>{var e;return null==(e=l.checkedNodes[0])?void 0:e.uid})),d=v((()=>e.node.isDisabled)),r=v((()=>e.node.isLeaf)),u=v((()=>s.value&&!r.value||!d.value)),p=v((()=>f(l.expandingNode))),h=v((()=>s.value&&l.checkedNodes.some(f))),f=a=>{var l;const{level:t,uid:n}=e.node;return(null==(l=null==a?void 0:a.pathNodes[t-1])?void 0:l.uid)===n},g=()=>{p.value||l.expandNode(e.node)},b=a=>{const{node:t}=e;a!==t.checked&&l.handleCheckChange(t,a)},y=()=>{l.lazyLoad(e.node,(()=>{r.value||g()}))},k=()=>{const{node:a}=e;u.value&&!a.loading&&(a.loaded?g():y())},C=a=>{e.node.loaded?(b(a),!s.value&&g()):y()};return{panel:l,isHoverMenu:n,multiple:o,checkStrictly:s,checkedNodeId:i,isDisabled:d,isLeaf:r,expandable:u,inExpandingPath:p,inCheckedPath:h,ns:t,handleHoverExpand:e=>{n.value&&(k(),!r.value&&a("expand",e))},handleExpand:k,handleClick:()=>{n.value&&!r.value||(!r.value||d.value||s.value||o.value?k():C(!0))},handleCheck:C,handleSelectCheck:a=>{s.value?(b(a),e.node.loaded&&g()):C(a)}}}}),We=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],Xe=N("span",null,null,-1);var Ye=f(r({name:"ElCascaderMenu",components:{Loading:h,ElIcon:p,ElScrollbar:ve,ElCascaderNode:f(Ze,[["render",function(e,a,l,t,n,o){const s=g("el-checkbox"),i=g("el-radio"),d=g("check"),r=g("el-icon"),c=g("node-content"),u=g("loading"),p=g("arrow-right");return b(),y("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:E([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:a[2]||(a[2]=(...a)=>e.handleHoverExpand&&e.handleHoverExpand(...a)),onFocus:a[3]||(a[3]=(...a)=>e.handleHoverExpand&&e.handleHoverExpand(...a)),onClick:a[4]||(a[4]=(...a)=>e.handleClick&&e.handleClick(...a))},[k(" prefix "),e.multiple?(b(),C(s,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:a[0]||(a[0]=x((()=>{}),["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(b(),C(i,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:a[1]||(a[1]=x((()=>{}),["stop"]))},{default:w((()=>[k("\n        Add an empty element to avoid render label,\n        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485\n      "),Xe])),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(b(),C(r,{key:2,class:E(e.ns.e("prefix"))},{default:w((()=>[V(d)])),_:1},8,["class"])):k("v-if",!0),k(" content "),V(c),k(" postfix "),e.isLeaf?k("v-if",!0):(b(),y(S,{key:3},[e.node.loading?(b(),C(r,{key:0,class:E([e.ns.is("loading"),e.ns.e("postfix")])},{default:w((()=>[V(u)])),_:1},8,["class"])):(b(),C(r,{key:1,class:E(["arrow-right",e.ns.e("postfix")])},{default:w((()=>[V(p)])),_:1},8,["class"]))],2112))],42,We)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]])},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const a=L(),l=c("cascader-menu"),{t:t}=ke(),n=ue();let o=null,s=null;const i=m(Re),d=j(null),r=v((()=>!e.nodes.length)),u=v((()=>!i.initialLoaded)),p=v((()=>`cascader-menu-${n}-${e.index}`)),h=()=>{s&&(clearTimeout(s),s=null)},f=()=>{d.value&&(d.value.innerHTML="",h())};return{ns:l,panel:i,hoverZone:d,isEmpty:r,isLoading:u,menuId:p,t:t,handleExpand:e=>{o=e.target},handleMouseMove:e=>{if(i.isHoverMenu&&o&&d.value)if(o.contains(e.target)){h();const l=a.vnode.el,{left:t}=l.getBoundingClientRect(),{offsetWidth:n,offsetHeight:s}=l,i=e.clientX-t,r=o.offsetTop,c=r+o.offsetHeight;d.value.innerHTML=`\n          <path style="pointer-events: auto;" fill="transparent" d="M${i} ${r} L${n} 0 V${r} Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M${i} ${c} L${n} ${s} V${c} Z" />\n        `}else s||(s=window.setTimeout(f,i.config.hoverThreshold))},clearHoverZone:f}}}),[["render",function(e,a,l,t,n,o){const s=g("el-cascader-node"),i=g("loading"),d=g("el-icon"),r=g("el-scrollbar");return b(),C(r,{key:e.menuId,tag:"ul",role:"menu",class:E(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:w((()=>{var a;return[(b(!0),y(S,null,$(e.nodes,(a=>(b(),C(s,{key:a.uid,node:a,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"])))),128)),e.isLoading?(b(),y("div",{key:0,class:E(e.ns.e("empty-text"))},[V(d,{size:"14",class:E(e.ns.is("loading"))},{default:w((()=>[V(i)])),_:1},8,["class"]),T(" "+_(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(b(),y("div",{key:1,class:E(e.ns.e("empty-text"))},_(e.t("el.cascader.noData")),3)):(null==(a=e.panel)?void 0:a.isHoverMenu)?(b(),y("svg",{key:2,ref:"hoverZone",class:E(e.ns.e("hover-zone"))},null,2)):k("v-if",!0)]})),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]),Ge=(e=>(e.CLICK="click",e.HOVER="hover",e))(Ge||{});let Je=0;class Qe{constructor(e,a,l,t=!1){this.data=e,this.config=a,this.parent=l,this.root=t,this.uid=Je++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:n,label:o,children:s}=a,i=e[s],d=(e=>{const a=[e];let{parent:l}=e;for(;l;)a.unshift(l),l=l.parent;return a})(this);this.level=t?0:l?l.level+1:1,this.value=e[n],this.label=e[o],this.pathNodes=d,this.pathValues=d.map((e=>e.value)),this.pathLabels=d.map((e=>e.label)),this.childrenData=i,this.children=(i||[]).map((e=>new Qe(e,a,this))),this.loaded=!a.lazy||this.isLeaf||!D(i)}get isDisabled(){const{data:e,parent:a,config:l}=this,{disabled:t,checkStrictly:n}=l;return(P(t)?t(e,this):!!e[t])||!n&&(null==a?void 0:a.isDisabled)}get isLeaf(){const{data:e,config:a,childrenData:l,loaded:t}=this,{lazy:n,leaf:o}=a,s=P(o)?o(e,this):e[o];return z(s)?!(n&&!t)&&!(Array.isArray(l)&&l.length):!!s}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:a,children:l}=this,t=new Qe(e,this.config,this);return Array.isArray(a)?a.push(e):this.childrenData=[e],l.push(t),t}calcText(e,a){const l=e?this.pathLabels.join(a):this.label;return this.text=l,l}broadcast(e,...a){const l=`onParent${I(e)}`;this.children.forEach((t=>{t&&(t.broadcast(e,...a),t[l]&&t[l](...a))}))}emit(e,...a){const{parent:l}=this,t=`onChild${I(e)}`;l&&(l[t]&&l[t](...a),l.emit(e,...a))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,a=e.filter((e=>!e.isDisabled)),l=!!a.length&&a.every((e=>e.checked));this.setCheckState(l)}setCheckState(e){const a=this.children.length,l=this.children.reduce(((e,a)=>e+(a.checked?1:a.indeterminate?.5:0)),0);this.checked=this.loaded&&this.children.every((e=>e.loaded&&e.checked))&&e,this.indeterminate=this.loaded&&l!==a&&l>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:a,multiple:l}=this.config;a||!l?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}}const ea=(e,a)=>e.reduce(((e,l)=>(l.isLeaf?e.push(l):(!a&&e.push(l),e=e.concat(ea(l.children,a))),e)),[]);class aa{constructor(e,a){this.config=a;const l=(e||[]).map((e=>new Qe(e,this.config)));this.nodes=l,this.allNodes=ea(l,!1),this.leafNodes=ea(l,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,a){const l=a?a.appendChild(e):new Qe(e,this.config);a||this.nodes.push(l),this.allNodes.push(l),l.isLeaf&&this.leafNodes.push(l)}appendNodes(e,a){e.forEach((e=>this.appendNode(e,a)))}getNodeByValue(e,a=!1){if(!e&&0!==e)return null;return this.getFlattedNodes(a).find((a=>Ce(a.value,e)||Ce(a.pathValues,e)))||null}getSameNode(e){if(!e)return null;return this.getFlattedNodes(!1).find((({value:a,level:l})=>Ce(e.value,a)&&e.level===l))||null}}const la={modelValue:[Number,String,Array],options:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})}},ta={expandTrigger:Ge.CLICK,multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:M,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},na=e=>{if(!e)return 0;const a=e.id.split("-");return Number(a[a.length-2])};var oa=f(r({name:"ElCascaderPanel",components:{ElCascaderMenu:Ye},props:d(i({},la),{border:{type:Boolean,default:!0},renderLabel:Function}),emits:[Ee,Se,"close","expand-change"],setup(e,{emit:a,slots:l}){let t=!1;const n=c("cascader"),o=(e=>v((()=>i(i({},ta),e.props))))(e);let s=null;const d=j(!0),r=j([]),u=j(null),p=j([]),h=j(null),m=j([]),f=v((()=>o.value.expandTrigger===Ge.HOVER)),g=v((()=>e.renderLabel||l.default)),b=(e,a)=>{const l=o.value;(e=e||new Qe({},l,void 0,!0)).loading=!0;l.lazyLoad(e,(l=>{const t=e,n=t.root?null:t;l&&(null==s||s.appendNodes(l,n)),t.loading=!1,t.loaded=!0,t.childrenData=t.childrenData||[],a&&a(l)}))},y=(e,l)=>{var t;const{level:n}=e,o=p.value.slice(0,n);let s;e.isLeaf?s=e.pathNodes[n-2]:(s=e,o.push(e.children)),(null==(t=h.value)?void 0:t.uid)!==(null==s?void 0:s.uid)&&(h.value=e,p.value=o,!l&&a("expand-change",(null==e?void 0:e.pathValues)||[]))},k=(e,l,n=!0)=>{const{checkStrictly:s,multiple:i}=o.value,d=m.value[0];t=!0,!i&&(null==d||d.doCheck(!1)),e.doCheck(l),V(),n&&!i&&!s&&a("close"),!n&&!i&&!s&&C(e)},C=e=>{e&&(e=e.parent,C(e),e&&y(e))},x=e=>null==s?void 0:s.getFlattedNodes(e),w=e=>{var a;return null==(a=x(e))?void 0:a.filter((e=>!1!==e.checked))},V=()=>{var e;const{checkStrictly:a,multiple:l}=o.value,t=((e,a)=>{const l=a.slice(0),t=l.map((e=>e.uid)),n=e.reduce(((e,a)=>{const n=t.indexOf(a.uid);return n>-1&&(e.push(a),l.splice(n,1),t.splice(n,1)),e}),[]);return n.push(...l),n})(m.value,w(!a)),n=t.map((e=>e.valueByOption));m.value=t,u.value=l?n:null!=(e=n[0])?e:null},E=(a=!1,l=!1)=>{const{modelValue:n}=e,{lazy:i,multiple:r,checkStrictly:c}=o.value,p=!c;var h;if(d.value&&!t&&(l||!Ce(n,u.value)))if(i&&!a){const e=Ne(null!=(h=je(n))&&h.length?Te(h,1/0):[]).map((e=>null==s?void 0:s.getNodeByValue(e))).filter((e=>!!e&&!e.loaded&&!e.loading));e.length?e.forEach((e=>{b(e,(()=>E(!1,l)))})):E(!0,l)}else{const e=r?je(n):[n],a=Ne(e.map((e=>null==s?void 0:s.getNodeByValue(e,p))));S(a,!1),u.value=n}},S=(e,a=!0)=>{const{checkStrictly:l}=o.value,t=m.value,n=e.filter((e=>!!e&&(l||e.isLeaf))),i=null==s?void 0:s.getSameNode(h.value),d=a&&i||n[0];d?d.pathNodes.forEach((e=>y(e,!0))):h.value=null,t.forEach((e=>e.doCheck(!1))),n.forEach((e=>e.doCheck(!0))),m.value=n,q(N)},N=()=>{K&&r.value.forEach((e=>{const a=null==e?void 0:e.$el;if(a){const e=a.querySelector(`.${n.namespace.value}-scrollbar__wrap`),l=a.querySelector(`.${n.b("node")}.${n.is("active")}`)||a.querySelector(`.${n.b("node")}.in-active-path`);$e(e,l)}}))};return H(Re,F({config:o,expandingNode:h,checkedNodes:m,isHoverMenu:f,initialLoaded:d,renderLabelFn:g,lazyLoad:b,expandNode:y,handleCheckChange:k})),B([o,()=>e.options],(()=>{const{options:a}=e,l=o.value;t=!1,s=new aa(a,l),p.value=[s.getNodes()],l.lazy&&D(e.options)?(d.value=!1,b(void 0,(e=>{e&&(s=new aa(e,l),p.value=[s.getNodes()]),d.value=!0,E(!1,!0)}))):E(!1,!0)}),{deep:!0,immediate:!0}),B((()=>e.modelValue),(()=>{t=!1,E()})),B(u,(l=>{Ce(l,e.modelValue)||(a(Ee,l),a(Se,l))})),A((()=>r.value=[])),O((()=>!D(e.modelValue)&&E())),{ns:n,menuList:r,menus:p,checkedNodes:m,handleKeyDown:e=>{const l=e.target,{code:t}=e;switch(t){case U.up:case U.down:{e.preventDefault();const a=t===U.up?-1:1;we(Ve(l,a,`.${n.b("node")}[tabindex="-1"]`));break}case U.left:{e.preventDefault();const a=r.value[na(l)-1],t=null==a?void 0:a.$el.querySelector(`.${n.b("node")}[aria-expanded="true"]`);we(t);break}case U.right:{e.preventDefault();const a=r.value[na(l)+1],t=null==a?void 0:a.$el.querySelector(`.${n.b("node")}[tabindex="-1"]`);we(t);break}case U.enter:(e=>{if(!e)return;const a=e.querySelector("input");a?a.click():xe(e)&&e.click()})(l);break;case U.esc:case U.tab:a("close")}},handleCheckChange:k,getFlattedNodes:x,getCheckedNodes:w,clearCheckedNodes:()=>{m.value.forEach((e=>e.doCheck(!1))),V()},calculateCheckedValue:V,scrollToExpandingNode:N}}}),[["render",function(e,a,l,t,n,o){const s=g("el-cascader-menu");return b(),y("div",{class:E([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:a[0]||(a[0]=(...a)=>e.handleKeyDown&&e.handleKeyDown(...a))},[(b(!0),y(S,null,$(e.menus,((a,l)=>(b(),C(s,{key:l,ref_for:!0,ref:a=>e.menuList[l]=a,index:l,nodes:[...a]},null,8,["index","nodes"])))),128))],34)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);oa.install=e=>{e.component(oa.name,oa)};const sa={large:36,default:32,small:28},ia={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:e})=>{const{modifiersData:a,placement:l}=e;["right","left","bottom","top"].includes(l)||(a.arrow.x=35)},requires:["arrow"]}]},da=r({name:"ElCascader",components:{ElCascaderPanel:oa,ElInput:re,ElTooltip:pe,ElScrollbar:ve,ElTag:_e,ElIcon:p,CircleClose:R,Check:be,ArrowDown:Oe},directives:{Clickoutside:De},props:d(i({},la),{size:{type:String,validator:Pe},placeholder:{type:String},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Function,default:(e,a)=>e.text.includes(a)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Function,default:()=>!0},popperClass:{type:String,default:""},popperAppendToBody:{type:Boolean,default:void 0},teleported:he.teleported,tagType:d(i({},Le.type),{default:"info"})}),emits:[Ee,Se,"focus","blur","visible-change","expand-change","remove-tag"],setup(e,{emit:a}){let l=0,t=0;const{compatTeleported:n}=ze("ElCascader","popperAppendToBody"),o=c("cascader"),s=c("input"),{t:i}=ke(),d=m(Ie,{}),r=m(Me,{}),u=j(null),p=j(null),h=j(null),f=j(null),g=j(null),b=j(!1),y=j(!1),k=j(!1),C=j(""),x=j(""),w=j([]),V=j([]),E=j([]),S=j(!1),N=v((()=>e.disabled||d.disabled)),$=v((()=>e.placeholder||i("el.cascader.placeholder"))),T=He(),_=v((()=>["small"].includes(T.value)?"small":"default")),L=v((()=>!!e.props.multiple)),D=v((()=>!e.filterable||L.value)),P=v((()=>L.value?x.value:C.value)),z=v((()=>{var e;return(null==(e=f.value)?void 0:e.checkedNodes)||[]})),I=v((()=>!(!e.clearable||N.value||k.value||!y.value)&&!!z.value.length)),M=v((()=>{const{showAllLevels:a,separator:l}=e,t=z.value;return t.length?L.value?" ":t[0].calcText(a,l):""})),H=v({get:()=>e.modelValue,set(e){var l;a(Ee,e),a(Se,e),null==(l=r.validate)||l.call(r,"change").catch((e=>Fe()))}}),F=v((()=>{var e,a;return null==(a=null==(e=u.value)?void 0:e.popperRef)?void 0:a.contentRef})),A=l=>{var t,n,o;if(!N.value&&(l=null!=l?l:!b.value)!==b.value){if(b.value=l,null==(n=null==(t=p.value)?void 0:t.input)||n.setAttribute("aria-expanded",`${l}`),l)R(),q(null==(o=f.value)?void 0:o.scrollToExpandingNode);else if(e.filterable){const{value:e}=M;C.value=e,x.value=e}a("visible-change",l)}},R=()=>{q((()=>{var e;null==(e=u.value)||e.updatePopper()}))},X=()=>{k.value=!1},Y=a=>{const{showAllLevels:l,separator:t}=e;return{node:a,key:a.uid,text:a.calcText(l,t),hitState:!1,closable:!N.value&&!a.isDisabled,isCollapseTag:!1}},G=e=>{var l;const t=e.node;t.doCheck(!1),null==(l=f.value)||l.calculateCheckedValue(),a("remove-tag",t.valueByOption)},J=()=>{var a,l;const{filterMethod:t,showAllLevels:n,separator:o}=e,s=null==(l=null==(a=f.value)?void 0:a.getFlattedNodes(!e.props.checkStrictly))?void 0:l.filter((e=>!e.isDisabled&&(e.calcText(n,o),t(e,P.value))));L.value&&(w.value.forEach((e=>{e.hitState=!1})),V.value.forEach((e=>{e.hitState=!1}))),k.value=!0,E.value=s,R()},Q=()=>{var e;let a;a=k.value&&g.value?g.value.$el.querySelector(`.${o.e("suggestion-item")}`):null==(e=f.value)?void 0:e.$el.querySelector(`.${o.b("node")}[tabindex="-1"]`),a&&(a.focus(),!k.value&&a.click())},ee=()=>{var e,a;const t=null==(e=p.value)?void 0:e.input,n=h.value,s=null==(a=g.value)?void 0:a.$el;if(K&&t){if(s){s.querySelector(`.${o.e("suggestion-list")}`).style.minWidth=`${t.offsetWidth}px`}if(n){const{offsetHeight:e}=n,a=w.value.length>0?`${Math.max(e+6,l)}px`:`${l}px`;t.style.height=a,R()}}},ae=qe((()=>{const{value:a}=P;if(!a)return;const l=e.beforeFilter(a);Z(l)?l.then(J).catch((()=>{})):!1!==l?J():X()}),e.debounce),le=(e,a)=>{!b.value&&A(!0),(null==a?void 0:a.isComposing)||(e?ae():X())};return B(k,R),B([z,N],(()=>{if(!L.value)return;const a=z.value,l=[],t=[];if(a.forEach((e=>t.push(Y(e)))),V.value=t,a.length){const[t,...n]=a,o=n.length;l.push(Y(t)),o&&(e.collapseTags?l.push({key:-1,text:`+ ${o}`,closable:!1,isCollapseTag:!0}):n.forEach((e=>l.push(Y(e)))))}w.value=l})),B(w,(()=>{q((()=>ee()))})),B(M,(e=>C.value=e),{immediate:!0}),O((()=>{var e;const a=null==(e=p.value)?void 0:e.$el;l=(null==a?void 0:a.offsetHeight)||sa[T.value]||40,Be(a,ee)})),W((()=>{var e;Ae(null==(e=p.value)?void 0:e.$el,ee)})),{popperOptions:ia,tooltipRef:u,popperPaneRef:F,input:p,tagWrapper:h,panel:f,suggestionPanel:g,popperVisible:b,inputHover:y,inputPlaceholder:$,filtering:k,presentText:M,checkedValue:H,inputValue:C,searchInputValue:x,presentTags:w,allPresentTags:V,suggestions:E,isDisabled:N,isOnComposition:S,realSize:T,tagSize:_,multiple:L,readonly:D,clearBtnVisible:I,compatTeleported:n,nsCascader:o,nsInput:s,t:i,togglePopperVisible:A,hideSuggestionPanel:X,deleteTag:G,focusFirstNode:Q,getCheckedNodes:e=>{var a;return null==(a=f.value)?void 0:a.getCheckedNodes(e)},handleExpandChange:e=>{R(),a("expand-change",e)},handleKeyDown:e=>{if(!S.value)switch(e.code){case U.enter:A();break;case U.down:A(!0),q(Q),e.preventDefault();break;case U.esc:case U.tab:A(!1)}},handleComposition:e=>{var a;const l=null==(a=e.target)?void 0:a.value;if("compositionend"===e.type)S.value=!1,q((()=>le(l)));else{const e=l[l.length-1]||"";S.value=!ce(e)}},handleClear:()=>{var e;null==(e=f.value)||e.clearCheckedNodes(),A(!1)},handleSuggestionClick:e=>{var a,l;const{checked:t}=e;L.value?null==(a=f.value)||a.handleCheckChange(e,!t,!1):(!t&&(null==(l=f.value)||l.handleCheckChange(e,!0,!1)),A(!1))},handleSuggestionKeyDown:e=>{const a=e.target,{code:l}=e;switch(l){case U.up:case U.down:{const e=l===U.up?-1:1;we(Ve(a,e,`.${o.e("suggestion-item")}[tabindex="-1"]`));break}case U.enter:a.click();break;case U.esc:case U.tab:A(!1)}},handleDelete:()=>{const e=w.value,a=e[e.length-1];t=x.value?0:t+1,a&&t&&(a.hitState?G(a):a.hitState=!0)},handleInput:le}}}),ra={key:0},ca={class:"el-cascader__collapse-tags"},ua=["placeholder"],pa=["onClick"];var ha=f(da,[["render",function(e,a,l,t,n,o){const s=g("circle-close"),i=g("el-icon"),d=g("arrow-down"),r=g("el-input"),c=g("el-tag"),u=g("el-tooltip"),p=g("el-cascader-panel"),h=g("check"),m=g("el-scrollbar"),v=X("clickoutside");return b(),C(u,{ref:"tooltipRef",visible:e.popperVisible,"onUpdate:visible":a[17]||(a[17]=a=>e.popperVisible=a),teleported:e.compatTeleported,"popper-class":[e.nsCascader.e("dropdown"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${e.nsCascader.namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:e.hideSuggestionPanel},{default:w((()=>[Y((b(),y("div",{class:E([e.nsCascader.b(),e.nsCascader.m(e.realSize),e.nsCascader.is("disabled",e.isDisabled),e.$attrs.class]),style:Q(e.$attrs.style),onClick:a[11]||(a[11]=()=>e.togglePopperVisible(!e.readonly||void 0)),onKeydown:a[12]||(a[12]=(...a)=>e.handleKeyDown&&e.handleKeyDown(...a)),onMouseenter:a[13]||(a[13]=a=>e.inputHover=!0),onMouseleave:a[14]||(a[14]=a=>e.inputHover=!1)},[V(r,{ref:"input",modelValue:e.inputValue,"onUpdate:modelValue":a[1]||(a[1]=a=>e.inputValue=a),placeholder:e.inputPlaceholder,readonly:e.readonly,disabled:e.isDisabled,"validate-event":!1,size:e.realSize,class:E(e.nsCascader.is("focus",e.popperVisible)),onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onFocus:a[2]||(a[2]=a=>e.$emit("focus",a)),onBlur:a[3]||(a[3]=a=>e.$emit("blur",a)),onInput:e.handleInput},{suffix:w((()=>[e.clearBtnVisible?(b(),C(i,{key:"clear",class:E([e.nsInput.e("icon"),"icon-circle-close"]),onClick:x(e.handleClear,["stop"])},{default:w((()=>[V(s)])),_:1},8,["class","onClick"])):(b(),C(i,{key:"arrow-down",class:E([e.nsInput.e("icon"),"icon-arrow-down",e.nsCascader.is("reverse",e.popperVisible)]),onClick:a[0]||(a[0]=x((a=>e.togglePopperVisible()),["stop"]))},{default:w((()=>[V(d)])),_:1},8,["class"]))])),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","onCompositionstart","onCompositionupdate","onCompositionend","onInput"]),e.multiple?(b(),y("div",{key:0,ref:"tagWrapper",class:E(e.nsCascader.e("tags"))},[(b(!0),y(S,null,$(e.presentTags,(a=>(b(),C(c,{key:a.key,type:e.tagType,size:e.tagSize,hit:a.hitState,closable:a.closable,"disable-transitions":"",onClose:l=>e.deleteTag(a)},{default:w((()=>[!1===a.isCollapseTag?(b(),y("span",ra,_(a.text),1)):(b(),C(u,{key:1,teleported:!1,disabled:e.popperVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:w((()=>[N("span",null,_(a.text),1)])),content:w((()=>[N("div",ca,[(b(!0),y(S,null,$(e.allPresentTags,((a,l)=>(b(),y("div",{key:l,class:"el-cascader__collapse-tag"},[(b(),C(c,{key:a.key,class:"in-tooltip",type:e.tagType,size:e.tagSize,hit:a.hitState,closable:a.closable,"disable-transitions":"",onClose:l=>e.deleteTag(a)},{default:w((()=>[N("span",null,_(a.text),1)])),_:2},1032,["type","size","hit","closable","onClose"]))])))),128))])])),_:2},1032,["disabled"]))])),_:2},1032,["type","size","hit","closable","onClose"])))),128)),e.filterable&&!e.isDisabled?Y((b(),y("input",{key:0,"onUpdate:modelValue":a[4]||(a[4]=a=>e.searchInputValue=a),type:"text",class:E(e.nsCascader.e("search-input")),placeholder:e.presentText?"":e.inputPlaceholder,onInput:a[5]||(a[5]=a=>e.handleInput(e.searchInputValue,a)),onClick:a[6]||(a[6]=x((a=>e.togglePopperVisible(!0)),["stop"])),onKeydown:a[7]||(a[7]=G(((...a)=>e.handleDelete&&e.handleDelete(...a)),["delete"])),onCompositionstart:a[8]||(a[8]=(...a)=>e.handleComposition&&e.handleComposition(...a)),onCompositionupdate:a[9]||(a[9]=(...a)=>e.handleComposition&&e.handleComposition(...a)),onCompositionend:a[10]||(a[10]=(...a)=>e.handleComposition&&e.handleComposition(...a))},null,42,ua)),[[J,e.searchInputValue]]):k("v-if",!0)],2)):k("v-if",!0)],38)),[[v,()=>e.togglePopperVisible(!1),e.popperPaneRef]])])),content:w((()=>[Y(V(p,{ref:"panel",modelValue:e.checkedValue,"onUpdate:modelValue":a[15]||(a[15]=a=>e.checkedValue=a),options:e.options,props:e.props,border:!1,"render-label":e.$slots.default,onExpandChange:e.handleExpandChange,onClose:a[16]||(a[16]=a=>e.$nextTick((()=>e.togglePopperVisible(!1))))},null,8,["modelValue","options","props","render-label","onExpandChange"]),[[ee,!e.filtering]]),e.filterable?Y((b(),C(m,{key:0,ref:"suggestionPanel",tag:"ul",class:E(e.nsCascader.e("suggestion-panel")),"view-class":e.nsCascader.e("suggestion-list"),onKeydown:e.handleSuggestionKeyDown},{default:w((()=>[e.suggestions.length?(b(!0),y(S,{key:0},$(e.suggestions,(a=>(b(),y("li",{key:a.uid,class:E([e.nsCascader.e("suggestion-item"),e.nsCascader.is("checked",a.checked)]),tabindex:-1,onClick:l=>e.handleSuggestionClick(a)},[N("span",null,_(a.text),1),a.checked?(b(),C(i,{key:0},{default:w((()=>[V(h)])),_:1})):k("v-if",!0)],10,pa)))),128)):ae(e.$slots,"empty",{key:1},(()=>[N("li",{class:E(e.nsCascader.e("empty-text"))},_(e.t("el.cascader.noMatch")),3)]))])),_:3},8,["class","view-class","onKeydown"])),[[ee,e.filtering]]):k("v-if",!0)])),_:3},8,["visible","teleported","popper-class","popper-options","transition","onHide"])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/index.vue"]]);ha.install=e=>{e.component(ha.name,ha)};const ma=ha;var va=fe({props:{modelValue:{type:Array,default:()=>[]},size:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:a}){const l=e,t=j({options:le,props:{value:"code",label:"name"}}),n=v({get:()=>{const e=[];if(3===l.modelValue.length){const[a,t,n]=l.modelValue;le.map((l=>{l.name===a&&(e.push(l.code),l.children.map((a=>{a.name===t&&(e.push(a.code),a.children.map((a=>{a.name===n&&e.push(a.code)})))})))}))}return e},set:e=>{if(e){let[l,t,n]=e;le.map((e=>{e.code===l&&(l=e.name,e.children.map((e=>{e.code===t&&(t=e.name,e.children.map((e=>{e.code===n&&(n=e.name)})))})))})),a("update:modelValue",[l,t,n])}else a("update:modelValue",[])}});return(a,l)=>{const o=ma;return b(),y("div",null,[V(o,{modelValue:te(n),"onUpdate:modelValue":l[0]||(l[0]=e=>ne(n)?n.value=e:null),options:t.value.options,props:t.value.props,size:e.size,disabled:e.disabled,clearable:"",filterable:""},null,8,["modelValue","options","props","size","disabled"])])}}},[["__scopeId","data-v-508f6864"]]);const fa={name:"ComponentExampleArea",props:{},data:()=>({area:["浙江省","杭州市","西湖区"],ruleForm:{area:[]},rules:{area:[{type:"array",required:!0,message:"请选择地区",trigger:"change"}]}}),created(){},mounted(){},methods:{submitForm(){this.$refs.ruleForm.validate((e=>{e&&alert("提交成功")}))}}},ga=T("提交");var ba=fe(fa,[["render",function(e,a,l,t,n,o){const s=Ke,i=va,d=de,r=oe,c=ie,u=se;return b(),y("div",null,[V(s,{title:"省市区联动",content:"CascaderArea"}),V(d,null,{default:w((()=>[V(i,{modelValue:n.area,"onUpdate:modelValue":a[0]||(a[0]=e=>n.area=e)},null,8,["modelValue"])])),_:1}),V(d,{title:"表单验证"},{default:w((()=>[V(u,{ref:"ruleForm",model:n.ruleForm,rules:n.rules},{default:w((()=>[V(r,{label:"地区",prop:"area"},{default:w((()=>[V(i,{modelValue:n.ruleForm.area,"onUpdate:modelValue":a[1]||(a[1]=e=>n.ruleForm.area=e)},null,8,["modelValue"])])),_:1}),V(r,null,{default:w((()=>[V(c,{type:"primary",onClick:o.submitForm},{default:w((()=>[ga])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","rules"])])),_:1})])}],["__scopeId","data-v-53ddef65"]]);export{ba as default};
