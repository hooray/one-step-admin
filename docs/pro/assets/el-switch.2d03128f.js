
/**
 * 由 One-step-admin 提供技术支持
 * https://hooray.gitee.io/one-step-admin/
 * Powered by One-step-admin
 * https://hooray.github.io/one-step-admin/
 */
    
import{I as e,ae as a,M as i,Y as t,X as n,ao as s,d as l,E as c,af as o,C as d,J as r,r as v,Z as u,o as h,a2 as f,z as p,bq as m,az as y,n as b,c as k,f as g,a1 as w,q as C,i as x,w as I,ai as V,j as S,t as T,G as B,e as j,ab as E,x as _,L as N}from"./index.05e4ed9f.js";import{i as P}from"./validator.ce3b7d6b.js";import{U as z,C as D,I as K}from"./event.e7ca8317.js";import{u as q}from"./index.aa8c6f3e.js";import{c as L,u as F}from"./index.48c8fc0e.js";import{d as G,t as J}from"./error.76088f19.js";const M=e({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:40},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:a,default:""},inactiveIcon:{type:a,default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:i(Function)},size:{type:String,validator:P}}),U=l({name:"ElSwitch",components:{ElIcon:c,Loading:o},props:M,emits:{[z]:e=>t(e)||n(e)||s(e),[D]:e=>t(e)||n(e)||s(e),[K]:e=>t(e)||n(e)||s(e)},setup(e,{emit:a}){const{formItem:i}=q(),n=L(d((()=>e.loading))),s=r("switch"),l=F(),c=v(!1!==e.modelValue),o=v(),f=v(),y=d((()=>[s.b(),s.m(l.value),s.is("disabled",n.value),s.is("checked",k.value)]));u((()=>e.modelValue),(()=>{c.value=!0})),u((()=>e.value),(()=>{c.value=!1}));const b=d((()=>c.value?e.modelValue:e.value)),k=d((()=>b.value===e.activeValue));[e.activeValue,e.inactiveValue].includes(b.value)||(a(z,e.inactiveValue),a(D,e.inactiveValue),a(K,e.inactiveValue)),u(k,(()=>{var a;o.value.checked=k.value,(e.activeColor||e.inactiveColor)&&w(),e.validateEvent&&(null==(a=null==i?void 0:i.validate)||a.call(i,"change").catch((e=>G())))}));const g=()=>{const i=k.value?e.inactiveValue:e.activeValue;a(z,i),a(D,i),a(K,i),p((()=>{o.value.checked=k.value}))},w=()=>{const a=k.value?e.activeColor:e.inactiveColor,i=f.value;e.borderColor?i.style.borderColor=e.borderColor:e.borderColor||(i.style.borderColor=a),i.style.backgroundColor=a,i.children[0].style.color=a};return h((()=>{(e.activeColor||e.inactiveColor||e.borderColor)&&w(),o.value.checked=k.value})),{ns:s,input:o,core:f,switchDisabled:n,checked:k,switchKls:y,handleChange:g,switchValue:()=>{if(n.value)return;const{beforeChange:a}=e;if(!a)return void g();const i=a();[m(i),t(i)].some((e=>e))||J("ElSwitch","beforeChange must return type `Promise<boolean>` or `boolean`"),m(i)?i.then((e=>{e&&g()})).catch((e=>{})):i&&g()},focus:()=>{var e,a;null==(a=null==(e=o.value)?void 0:e.focus)||a.call(e)}}}}),X=["aria-checked","aria-disabled"],Y=["id","name","true-value","false-value","disabled"],Z=["aria-hidden"],A=["aria-hidden"],H=["aria-hidden"],O=["aria-hidden"];const Q=N(f(U,[["render",function(e,a,i,t,n,s){const l=y("el-icon"),c=y("loading");return b(),k("div",{class:w(e.switchKls),role:"switch","aria-checked":e.checked,"aria-disabled":e.switchDisabled,onClick:a[2]||(a[2]=_(((...a)=>e.switchValue&&e.switchValue(...a)),["prevent"]))},[g("input",{id:e.id,ref:"input",class:w(e.ns.e("input")),type:"checkbox",name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:e.switchDisabled,onChange:a[0]||(a[0]=(...a)=>e.handleChange&&e.handleChange(...a)),onKeydown:a[1]||(a[1]=C(((...a)=>e.switchValue&&e.switchValue(...a)),["enter"]))},null,42,Y),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?S("v-if",!0):(b(),k("span",{key:0,class:w([e.ns.e("label"),e.ns.em("label","left"),e.ns.is("active",!e.checked)])},[e.inactiveIcon?(b(),x(l,{key:0},{default:I((()=>[(b(),x(V(e.inactiveIcon)))])),_:1})):S("v-if",!0),!e.inactiveIcon&&e.inactiveText?(b(),k("span",{key:1,"aria-hidden":e.checked},T(e.inactiveText),9,Z)):S("v-if",!0)],2)),g("span",{ref:"core",class:w(e.ns.e("core")),style:E({width:(e.width||40)+"px"})},[e.inlinePrompt?(b(),k("div",{key:0,class:w(e.ns.e("inner"))},[e.activeIcon||e.inactiveIcon?(b(),k(B,{key:0},[e.activeIcon?(b(),x(l,{key:0,class:w([e.ns.is("icon"),e.checked?e.ns.is("show"):e.ns.is("hide")])},{default:I((()=>[(b(),x(V(e.activeIcon)))])),_:1},8,["class"])):S("v-if",!0),e.inactiveIcon?(b(),x(l,{key:1,class:w([e.ns.is("icon"),e.checked?e.ns.is("hide"):e.ns.is("show")])},{default:I((()=>[(b(),x(V(e.inactiveIcon)))])),_:1},8,["class"])):S("v-if",!0)],64)):e.activeText||e.inactiveIcon?(b(),k(B,{key:1},[e.activeText?(b(),k("span",{key:0,class:w([e.ns.is("text"),e.checked?e.ns.is("show"):e.ns.is("hide")]),"aria-hidden":!e.checked},T(e.activeText.substring(0,3)),11,A)):S("v-if",!0),e.inactiveText?(b(),k("span",{key:1,class:w([e.ns.is("text"),e.checked?e.ns.is("hide"):e.ns.is("show")]),"aria-hidden":e.checked},T(e.inactiveText.substring(0,3)),11,H)):S("v-if",!0)],64)):S("v-if",!0)],2)):S("v-if",!0),g("div",{class:w(e.ns.e("action"))},[e.loading?(b(),x(l,{key:0,class:w(e.ns.is("loading"))},{default:I((()=>[j(c)])),_:1},8,["class"])):S("v-if",!0)],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?S("v-if",!0):(b(),k("span",{key:1,class:w([e.ns.e("label"),e.ns.em("label","right"),e.ns.is("active",e.checked)])},[e.activeIcon?(b(),x(l,{key:0},{default:I((()=>[(b(),x(V(e.activeIcon)))])),_:1})):S("v-if",!0),!e.activeIcon&&e.activeText?(b(),k("span",{key:1,"aria-hidden":!e.checked},T(e.activeText),9,O)):S("v-if",!0)],2))],10,X)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]));export{Q as E};
