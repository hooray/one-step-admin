
/**
 * 由 One-step-admin 提供技术支持
 * https://hooray.gitee.io/one-step-admin/
 * Powered by One-step-admin
 * https://hooray.github.io/one-step-admin/
 */
    
import{o as e,c as s,b$ as i,H as r,u as o,b as a,g as t,w as n,i as l,a as p,t as u,h as m,y as d,A as c,B as b}from"./index.b046d3e8.js";import{_ as f}from"./index.a96e35f5.js";import{_ as v}from"./index.e4264495.js";/* empty css                        */import{E as w,a as g}from"./el-button.12f8eb95.js";/* empty css               *//* empty css                       *//* empty css                        */import{v as _,L as j}from"./el-loading.6c4fb8ac.js";import{E as y,a as h}from"./index.613dd961.js";import{E as x}from"./index.aa27bd74.js";/* empty css                */import"./index.2b0c4341.js";import"./index.16ef6f7e.js";import"./style.3c5afb48.js";import"./event.e7ca8317.js";import"./error.76088f19.js";const k={install(e){e.directive("loading",_),e.config.globalProperties.$loading=j},directive:_,service:j},$={props:{value:{type:Array,default:()=>[]}},setup(o){const a=o;return(o,t)=>(e(),s("div",null,[i(a.value)?r(o.$slots,"default",{key:0}):r(o.$slots,"no-auth",{key:1})]))}},C={key:0},A={key:1},E=p("h3",null,"切换帐号",-1),V=p("h3",null,"帐号权限",-1),P=p("h3",null,"鉴权组件（请对照代码查看）",-1),B=d("你有 permission.browse 权限"),H=d("你没有 permission.browse 权限"),L=d("你有 permission.create 权限"),T=d("你没有 permission.create 权限"),U=d("你有 permission.browse 或 permission.create 权限"),q=d("你没有 permission.browse 或 permission.create 权限"),z=d("你有 permission.browse 和 permission.create 权限"),D=d("你没有 permission.browse 和 permission.create 权限"),F=p("h3",null,"鉴权指令（请对照代码查看）",-1),G=[d(" 如果你有 permission.browse 权限则能看到这句话 ")],I=[d(" 如果你有 permission.create 权限则能看到这句话 ")],J=[d(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ")],K=[d(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ")],M=p("h3",null,"鉴权函数（请对照代码查看）",-1),N=d("校验 permission.browse 权限"),O=d("校验 permission.create 权限"),Q=d("校验 permission.browse 或 permission.create 权限"),R=d("校验 permission.browse 和 permission.create 权限"),S={setup(i){const{proxy:r}=b(),d=o(),_=a();function j(e){k.service({lock:!0,text:"帐号切换中",background:"rgba(0, 0, 0, 0.7)"}),_.login({account:e,password:""}).then((()=>{setTimeout((()=>{location.reload()}),1e3)}))}function S(e){r.$auth(e)?c.success("校验通过"):c.error("校验不通过")}return(i,o)=>{const a=y,b=h,k=x,W=f,X=$,Y=w,Z=g,ee=v,se=f,ie=$;return e(),s("div",null,[t(ee,null,{default:n((()=>[l(d).app.enablePermission?(e(),s("div",A,[E,t(b,{modelValue:l(_).account,"onUpdate:modelValue":o[0]||(o[0]=e=>l(_).account=e),onChange:j},{default:n((()=>[t(a,{label:"admin"}),t(a,{label:"test"})])),_:1},8,["modelValue"]),V,p("div",null,u(l(_).permissions),1),P,p("div",null,[t(W,{value:"permission.browse",style:{"margin-bottom":"10px"}},{"no-auth":n((()=>[t(k,{type:"danger"},{default:n((()=>[H])),_:1})])),default:n((()=>[t(k,null,{default:n((()=>[B])),_:1})])),_:1}),t(W,{value:"permission.create",style:{"margin-bottom":"10px"}},{"no-auth":n((()=>[t(k,{type:"danger"},{default:n((()=>[T])),_:1})])),default:n((()=>[t(k,null,{default:n((()=>[L])),_:1})])),_:1}),t(W,{value:["permission.browse","permission.create"],style:{"margin-bottom":"10px"}},{"no-auth":n((()=>[t(k,{type:"danger"},{default:n((()=>[q])),_:1})])),default:n((()=>[t(k,null,{default:n((()=>[U])),_:1})])),_:1},8,["value"]),t(X,{value:["permission.browse","permission.create"]},{"no-auth":n((()=>[t(k,{type:"danger"},{default:n((()=>[D])),_:1})])),default:n((()=>[t(k,null,{default:n((()=>[z])),_:1})])),_:1},8,["value"])]),F,p("div",null,[m((e(),s("div",null,G)),[[se,"permission.browse"]]),m((e(),s("div",null,I)),[[se,"permission.create"]]),m((e(),s("div",null,J)),[[se,["permission.browse","permission.create"]]]),m((e(),s("div",null,K)),[[ie,["permission.browse","permission.create"]]])]),M,p("div",null,[t(Z,{style:{display:"block","margin-bottom":"10px"}},{default:n((()=>[t(Y,{onClick:o[1]||(o[1]=e=>S("permission.browse"))},{default:n((()=>[N])),_:1}),t(Y,{onClick:o[2]||(o[2]=e=>S("permission.create"))},{default:n((()=>[O])),_:1})])),_:1}),t(Z,null,{default:n((()=>[t(Y,{onClick:o[3]||(o[3]=e=>S(["permission.browse","permission.create"]))},{default:n((()=>[Q])),_:1}),t(Y,{onClick:o[4]||(o[4]=e=>{return s=["permission.browse","permission.create"],void(r.$authAll(s)?c.success("校验通过"):c.error("校验不通过"));var s})},{default:n((()=>[R])),_:1})])),_:1})])])):(e(),s("div",C,"请到 seeting.js 里打开权限功能，再进入该页面查看演示"))])),_:1})])}}};export{S as default};
