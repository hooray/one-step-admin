
/**
 * 由 One-step-admin 提供技术支持
 * https://hooray.gitee.io/one-step-admin/
 * Powered by One-step-admin
 * https://hooray.github.io/one-step-admin/
 */
    
import{_ as e,a}from"./index.c4b83189.js";import{_ as l}from"./index.fadd46b6.js";import{j as o,r as t,S as s,k as n,A as r,x as u,l as d,T as p,U as i,u as c,t as m,m as f,p as g,q as v,V as w,X as _,z as b,o as h,Y as x,Z as y,_ as V,$ as k,a0 as $,C}from"./vendor.b0dde714.js";import{_ as q,u as z,a as P,s as U}from"./index.091d1180.js";const j=e=>(g("data-v-12b4e914"),e=e(),v(),e),F=j((()=>d("div",{class:"bg-banner"},null,-1))),R=j((()=>d("i",{class:"ri-translate"},null,-1))),K={id:"login-box"},L=j((()=>d("div",{class:"login-banner"},null,-1))),O={class:"title-container"},A={class:"title"},I={class:"flex-bar"},S=k("记住我"),T=k("忘记密码"),X={style:{"margin-top":"20px","margin-bottom":"-10px",color:"#666","font-size":"14px","text-align":"center","font-weight":"bold"}},Y=j((()=>d("span",{style:{"margin-right":"5px"}},"演示帐号一键登录：",-1))),Z=k("admin"),B=k("test"),D=j((()=>d("div",{class:"title-container"},[d("h3",{class:"title"},"重置密码")],-1))),E=o({name:"Login"});var G=q(Object.assign(E,{setup(o){const{proxy:g}=C(),v=w(),q=_(),j=z(),E=P(),G=t("login"),H=t({account:U.local.get("login_account"),password:"",remember:U.local.has("login_account")}),J=t({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]}),M=t({account:U.local.get("login_account"),captcha:"",newPassword:""}),N=t({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],captcha:[{required:!0,trigger:"blur",message:"请输入验证码"}],newPassword:[{required:!0,trigger:"blur",message:"请输入新密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]}),Q=t(!1),W=t("password"),ee=t(null);function ae(){W.value="password"===W.value?"":"password",$((()=>{g.$refs.password.focus()}))}function le(){g.$refs.loginFormRef.validate((e=>{e&&(Q.value=!0,E.login(H.value).then((()=>{Q.value=!1,H.value.remember?U.local.set("login_account",H.value.account):U.local.remove("login_account"),q.push(ee.value)})).catch((()=>{Q.value=!1})))}))}function oe(){g.$message({message:"重置密码仅提供界面演示，无实际功能，需开发者自行扩展",type:"info"}),g.$refs.resetFormRef.validate((e=>{}))}function te(e){H.value.account=e,H.value.password="123456",le()}return s((()=>{var e;ee.value=null!=(e=v.query.redirect)?e:"/"})),(o,t)=>{const s=e,g=l,v=b("el-input"),w=b("el-form-item"),_=b("el-checkbox"),$=b("el-button"),C=b("el-form"),q=b("el-col"),z=b("el-row"),P=a;return h(),n("div",null,[F,r(s,{class:"i18n-selector"},{default:u((()=>[R])),_:1}),d("div",K,[L,p(r(C,{ref:"loginFormRef",model:H.value,rules:J.value,class:"login-form",autocomplete:"on","label-position":"left"},{default:u((()=>[d("div",O,[d("h3",A,x(c("One-step-admin 专业版"))+"管理后台",1)]),d("div",null,[r(w,{prop:"account"},{default:u((()=>[r(v,{ref:"name",modelValue:H.value.account,"onUpdate:modelValue":t[0]||(t[0]=e=>H.value.account=e),placeholder:o.$t("app.account"),type:"text",tabindex:"1",autocomplete:"on"},{prefix:u((()=>[r(g,{name:"user"})])),_:1},8,["modelValue","placeholder"])])),_:1}),r(w,{prop:"password"},{default:u((()=>[r(v,{ref:"password",modelValue:H.value.password,"onUpdate:modelValue":t[1]||(t[1]=e=>H.value.password=e),type:W.value,placeholder:o.$t("app.password"),tabindex:"2",autocomplete:"on",onKeyup:y(le,["enter"])},{prefix:u((()=>[r(g,{name:"password"})])),suffix:u((()=>[r(g,{name:"password"===W.value?"eye":"eye-open",onClick:ae},null,8,["name"])])),_:1},8,["modelValue","type","placeholder","onKeyup"])])),_:1})]),d("div",I,[r(_,{modelValue:H.value.remember,"onUpdate:modelValue":t[2]||(t[2]=e=>H.value.remember=e)},{default:u((()=>[S])),_:1},8,["modelValue"]),r($,{type:"text",onClick:t[3]||(t[3]=e=>G.value="reset")},{default:u((()=>[T])),_:1})]),r($,{loading:Q.value,type:"primary",size:"large",style:{width:"100%"},onClick:V(le,["prevent"])},{default:u((()=>[k(x(o.$t("app.login")),1)])),_:1},8,["loading","onClick"]),d("div",X,[Y,r($,{type:"danger",size:"small",onClick:t[4]||(t[4]=e=>te("admin"))},{default:u((()=>[Z])),_:1}),r($,{type:"danger",size:"small",plain:"",onClick:t[5]||(t[5]=e=>te("test"))},{default:u((()=>[B])),_:1})])])),_:1},8,["model","rules"]),[[i,"login"==G.value]]),p(r(C,{ref:"resetFormRef",model:M.value,rules:N.value,class:"login-form","auto-complete":"on","label-position":"left"},{default:u((()=>[D,d("div",null,[r(w,{prop:"account"},{default:u((()=>[r(v,{ref:"name",modelValue:M.value.account,"onUpdate:modelValue":t[6]||(t[6]=e=>M.value.account=e),placeholder:o.$t("app.account"),type:"text",tabindex:"1",autocomplete:"on"},{prefix:u((()=>[r(g,{name:"user"})])),_:1},8,["modelValue","placeholder"])])),_:1}),r(w,{prop:"captcha"},{default:u((()=>[r(v,{ref:"captcha",modelValue:M.value.captcha,"onUpdate:modelValue":t[7]||(t[7]=e=>M.value.captcha=e),placeholder:o.$t("app.captcha"),type:"text",tabindex:"2",autocomplete:"on"},{prefix:u((()=>[r(g,{name:"captcha"})])),append:u((()=>[r($,null,{default:u((()=>[k(x(o.$t("app.sendCaptcha")),1)])),_:1})])),_:1},8,["modelValue","placeholder"])])),_:1}),r(w,{prop:"newPassword"},{default:u((()=>[r(v,{ref:"newPassword",modelValue:M.value.newPassword,"onUpdate:modelValue":t[8]||(t[8]=e=>M.value.newPassword=e),type:W.value,placeholder:o.$t("app.newPassword"),tabindex:"3",autocomplete:"on"},{prefix:u((()=>[r(g,{name:"password"})])),suffix:u((()=>[r(g,{name:"password"===W.value?"eye":"eye-open",onClick:ae},null,8,["name"])])),_:1},8,["modelValue","type","placeholder"])])),_:1})]),r(z,{gutter:15,style:{"padding-top":"20px"}},{default:u((()=>[r(q,{md:6},{default:u((()=>[r($,{size:"large",style:{width:"100%"},onClick:t[9]||(t[9]=e=>G.value="login")},{default:u((()=>[k(x(o.$t("app.goLogin")),1)])),_:1})])),_:1}),r(q,{md:18},{default:u((()=>[r($,{loading:Q.value,type:"primary",size:"large",style:{width:"100%"},onClick:V(oe,["prevent"])},{default:u((()=>[k(x(o.$t("app.check")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["model","rules"]),[[i,"reset"==G.value]])]),c(j).copyright.enable?(h(),m(P,{key:0})):f("v-if",!0)])}}}),[["__scopeId","data-v-12b4e914"]]);export{G as default};
