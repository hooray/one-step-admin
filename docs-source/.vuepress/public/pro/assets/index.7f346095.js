
/**
 * 由 One-step-admin 提供技术支持
 * Powered by One-step-admin
 * https://one-step-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/one-step-admin
 * Github https://github.com/hooray/one-step-admin
 */
    
import{n as e,c as s,c1 as i,H as r,u as o,a,b as t,w as n,f as l,e as p,t as m,g as u,y as d,z as c,B as b}from"./index.0a5e3bc2.js";import{_ as f}from"./index.bfd1ca28.js";import{_ as v}from"./index.15becada.js";/* empty css                        */import{E as w,a as _}from"./el-button.2fada245.js";/* empty css               *//* empty css                       *//* empty css                        *//* empty css                   */import{E as j,a as g}from"./index2.841f0948.js";import{E as x}from"./index2.6e216417.js";import{E as y}from"./index2.586baac2.js";/* empty css                */import"./index.5fef9d7d.js";import"./index2.f37a6952.js";import"./index2.2a4e9295.js";import"./index2.fa2fe4ab.js";import"./event2.27558ffe.js";import"./error2.1d524120.js";import"./directive2.ba7b2ecb.js";const h={props:{value:{type:Array,default:()=>[]}},setup(o){const a=o;return(o,t)=>(e(),s("div",null,[i(a.value)?r(o.$slots,"default",{key:0}):r(o.$slots,"no-auth",{key:1})]))}},k={key:0},C={key:1},E=p("h3",null,"切换帐号",-1),$=p("h3",null,"帐号权限",-1),V=p("h3",null,"鉴权组件（请对照代码查看）",-1),A=d("你有 permission.browse 权限"),z=d("你没有 permission.browse 权限"),B=d("你有 permission.create 权限"),H=d("你没有 permission.create 权限"),P=d("你有 permission.browse 或 permission.create 权限"),T=d("你没有 permission.browse 或 permission.create 权限"),U=d("你有 permission.browse 和 permission.create 权限"),q=d("你没有 permission.browse 和 permission.create 权限"),D=p("h3",null,"鉴权指令（请对照代码查看）",-1),F=[d(" 如果你有 permission.browse 权限则能看到这句话 ")],G=[d(" 如果你有 permission.create 权限则能看到这句话 ")],I=[d(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ")],J=[d(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ")],K=p("h3",null,"鉴权函数（请对照代码查看）",-1),L=d("校验 permission.browse 权限"),M=d("校验 permission.create 权限"),N=d("校验 permission.browse 或 permission.create 权限"),O=d("校验 permission.browse 和 permission.create 权限"),Q={setup(i){const{proxy:r}=b(),d=o(),Q=a();function R(e){y.service({lock:!0,text:"帐号切换中",background:"rgba(0, 0, 0, 0.7)"}),Q.login({account:e,password:""}).then((()=>{setTimeout((()=>{location.reload()}),1e3)}))}function S(e){r.$auth(e)?c.success("校验通过"):c.error("校验不通过")}return(i,o)=>{const a=j,b=g,y=x,W=f,X=h,Y=w,Z=_,ee=v,se=f,ie=h;return e(),s("div",null,[t(ee,null,{default:n((()=>[l(d).app.enablePermission?(e(),s("div",C,[E,t(b,{modelValue:l(Q).account,"onUpdate:modelValue":o[0]||(o[0]=e=>l(Q).account=e),onChange:R},{default:n((()=>[t(a,{label:"admin"}),t(a,{label:"test"})])),_:1},8,["modelValue"]),$,p("div",null,m(l(Q).permissions),1),V,p("div",null,[t(W,{value:"permission.browse",style:{"margin-bottom":"10px"}},{"no-auth":n((()=>[t(y,{type:"danger"},{default:n((()=>[z])),_:1})])),default:n((()=>[t(y,null,{default:n((()=>[A])),_:1})])),_:1}),t(W,{value:"permission.create",style:{"margin-bottom":"10px"}},{"no-auth":n((()=>[t(y,{type:"danger"},{default:n((()=>[H])),_:1})])),default:n((()=>[t(y,null,{default:n((()=>[B])),_:1})])),_:1}),t(W,{value:["permission.browse","permission.create"],style:{"margin-bottom":"10px"}},{"no-auth":n((()=>[t(y,{type:"danger"},{default:n((()=>[T])),_:1})])),default:n((()=>[t(y,null,{default:n((()=>[P])),_:1})])),_:1},8,["value"]),t(X,{value:["permission.browse","permission.create"]},{"no-auth":n((()=>[t(y,{type:"danger"},{default:n((()=>[q])),_:1})])),default:n((()=>[t(y,null,{default:n((()=>[U])),_:1})])),_:1},8,["value"])]),D,p("div",null,[u((e(),s("div",null,F)),[[se,"permission.browse"]]),u((e(),s("div",null,G)),[[se,"permission.create"]]),u((e(),s("div",null,I)),[[se,["permission.browse","permission.create"]]]),u((e(),s("div",null,J)),[[ie,["permission.browse","permission.create"]]])]),K,p("div",null,[t(Z,{style:{display:"block","margin-bottom":"10px"}},{default:n((()=>[t(Y,{onClick:o[1]||(o[1]=e=>S("permission.browse"))},{default:n((()=>[L])),_:1}),t(Y,{onClick:o[2]||(o[2]=e=>S("permission.create"))},{default:n((()=>[M])),_:1})])),_:1}),t(Z,null,{default:n((()=>[t(Y,{onClick:o[3]||(o[3]=e=>S(["permission.browse","permission.create"]))},{default:n((()=>[N])),_:1}),t(Y,{onClick:o[4]||(o[4]=e=>{return s=["permission.browse","permission.create"],void(r.$authAll(s)?c.success("校验通过"):c.error("校验不通过"));var s})},{default:n((()=>[O])),_:1})])),_:1})])])):(e(),s("div",k,"请到 seeting.js 里打开权限功能，再进入该页面查看演示"))])),_:1})])}}};export{Q as default};
