
/**
 * 由 One-step-admin 提供技术支持
 * https://hooray.gitee.io/one-step-admin/
 * Powered by One-step-admin
 * https://hooray.github.io/one-step-admin/
 */
    
import{_ as e}from"./index.7bd259e8.js";import{_ as a}from"./index.57156bb1.js";import{d as l,u as o,a as t,r as s,o as r,c as n,b as u,w as d,v as i,e as c,f as p,g as m,h as g,i as f,p as v,j as b,k as x,l as _,m as w,n as y,t as h,q as V,s as k,x as C,y as q,z}from"./index.8b6d4e84.js";import{_ as j}from"./plugin-vue_export-helper.21dcd24c.js";const P=e=>(v("data-v-05b88482"),e=e(),b(),e),U=P((()=>u("div",{class:"bg-banner"},null,-1))),S={id:"login-box"},F=P((()=>u("div",{class:"login-banner"},null,-1))),R={class:"title-container"},$={class:"title"},I={class:"flex-bar"},K=C("记住我"),O=C("忘记密码"),L=C("登 录"),A={style:{"margin-top":"20px","margin-bottom":"-10px",color:"#666","font-size":"14px","text-align":"center","font-weight":"bold"}},B=P((()=>u("span",{style:{"margin-right":"5px"}},"演示帐号一键登录：",-1))),D=C("admin"),E=C("test"),G=P((()=>u("div",{class:"title-container"},[u("h3",{class:"title"},"重置密码")],-1))),H=C("发送验证码"),J=C("去登录"),M=C("确认"),N=l({name:"Login"});var Q=j(Object.assign(N,{setup(l){const{proxy:v}=z(),b=x(),C=_(),j=o(),P=t(),N=s("login"),Q=s({account:localStorage.login_account||"",password:"",remember:!!localStorage.login_account}),T=s({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]}),W=s({account:localStorage.login_account||"",captcha:"",newPassword:""}),X=s({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],captcha:[{required:!0,trigger:"blur",message:"请输入验证码"}],newPassword:[{required:!0,trigger:"blur",message:"请输入新密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]}),Y=s(!1),Z=s("password"),ee=s(null);function ae(){Z.value="password"===Z.value?"":"password",q((()=>{v.$refs.password.focus()}))}function le(){v.$refs.loginFormRef.validate((e=>{e&&(Y.value=!0,P.login(Q.value).then((()=>{Y.value=!1,Q.value.remember?localStorage.setItem("login_account",Q.value.account):localStorage.removeItem("login_account"),C.push(ee.value)})).catch((()=>{Y.value=!1})))}))}function oe(){v.$message({message:"重置密码仅提供界面演示，无实际功能，需开发者自行扩展",type:"info"}),v.$refs.resetFormRef.validate((e=>{}))}function te(e){Q.value.account=e,Q.value.password="123456",le()}return r((()=>{var e;ee.value=null!=(e=b.query.redirect)?e:"/"})),(l,o)=>{const t=a,s=w("el-input"),r=w("el-form-item"),v=w("el-checkbox"),b=w("el-button"),x=w("el-form"),_=w("el-col"),C=w("el-row"),q=e;return y(),n("div",null,[U,u("div",S,[F,d(c(x,{ref:"loginFormRef",model:Q.value,rules:T.value,class:"login-form",autocomplete:"on","label-position":"left"},{default:p((()=>[u("div",R,[u("h3",$,h(m("One-step-admin 基础版"))+"管理后台",1)]),u("div",null,[c(r,{prop:"account"},{default:p((()=>[c(s,{ref:"name",modelValue:Q.value.account,"onUpdate:modelValue":o[0]||(o[0]=e=>Q.value.account=e),placeholder:"用户名",type:"text",tabindex:"1",autocomplete:"on"},{prefix:p((()=>[c(t,{name:"user"})])),_:1},8,["modelValue"])])),_:1}),c(r,{prop:"password"},{default:p((()=>[c(s,{ref:"password",modelValue:Q.value.password,"onUpdate:modelValue":o[1]||(o[1]=e=>Q.value.password=e),type:Z.value,placeholder:"密码",tabindex:"2",autocomplete:"on",onKeyup:V(le,["enter"])},{prefix:p((()=>[c(t,{name:"password"})])),suffix:p((()=>[c(t,{name:"password"===Z.value?"eye":"eye-open",onClick:ae},null,8,["name"])])),_:1},8,["modelValue","type","onKeyup"])])),_:1})]),u("div",I,[c(v,{modelValue:Q.value.remember,"onUpdate:modelValue":o[2]||(o[2]=e=>Q.value.remember=e)},{default:p((()=>[K])),_:1},8,["modelValue"]),c(b,{type:"text",onClick:o[3]||(o[3]=e=>N.value="reset")},{default:p((()=>[O])),_:1})]),c(b,{loading:Y.value,type:"primary",size:"large",style:{width:"100%"},onClick:k(le,["prevent"])},{default:p((()=>[L])),_:1},8,["loading","onClick"]),u("div",A,[B,c(b,{type:"danger",size:"small",onClick:o[4]||(o[4]=e=>te("admin"))},{default:p((()=>[D])),_:1}),c(b,{type:"danger",size:"small",plain:"",onClick:o[5]||(o[5]=e=>te("test"))},{default:p((()=>[E])),_:1})])])),_:1},8,["model","rules"]),[[i,"login"==N.value]]),d(c(x,{ref:"resetFormRef",model:W.value,rules:X.value,class:"login-form","auto-complete":"on","label-position":"left"},{default:p((()=>[G,u("div",null,[c(r,{prop:"account"},{default:p((()=>[c(s,{ref:"name",modelValue:W.value.account,"onUpdate:modelValue":o[6]||(o[6]=e=>W.value.account=e),placeholder:"用户名",type:"text",tabindex:"1",autocomplete:"on"},{prefix:p((()=>[c(t,{name:"user"})])),_:1},8,["modelValue"])])),_:1}),c(r,{prop:"captcha"},{default:p((()=>[c(s,{ref:"captcha",modelValue:W.value.captcha,"onUpdate:modelValue":o[7]||(o[7]=e=>W.value.captcha=e),placeholder:"验证码",type:"text",tabindex:"2",autocomplete:"on"},{prefix:p((()=>[c(t,{name:"captcha"})])),append:p((()=>[c(b,null,{default:p((()=>[H])),_:1})])),_:1},8,["modelValue"])])),_:1}),c(r,{prop:"newPassword"},{default:p((()=>[c(s,{ref:"newPassword",modelValue:W.value.newPassword,"onUpdate:modelValue":o[8]||(o[8]=e=>W.value.newPassword=e),type:Z.value,placeholder:"新密码",tabindex:"3",autocomplete:"on"},{prefix:p((()=>[c(t,{name:"password"})])),suffix:p((()=>[c(t,{name:"password"===Z.value?"eye":"eye-open",onClick:ae},null,8,["name"])])),_:1},8,["modelValue","type"])])),_:1})]),c(C,{gutter:15,style:{"padding-top":"20px"}},{default:p((()=>[c(_,{md:6},{default:p((()=>[c(b,{size:"large",style:{width:"100%"},onClick:o[9]||(o[9]=e=>N.value="login")},{default:p((()=>[J])),_:1})])),_:1}),c(_,{md:18},{default:p((()=>[c(b,{loading:Y.value,type:"primary",size:"large",style:{width:"100%"},onClick:k(oe,["prevent"])},{default:p((()=>[M])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["model","rules"]),[[i,"reset"==N.value]])]),m(j).copyright.enable?(y(),g(q,{key:0})):f("v-if",!0)])}}}),[["__scopeId","data-v-05b88482"]]);export{Q as default};
