
/**
 * 由 One-step-admin 提供技术支持
 * Powered by One-step-admin
 * https://one-step-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/one-step-admin
 * Github https://github.com/hooray/one-step-admin
 */
    
import{_ as e,a,b as l}from"./translate.97730e23.js";import{o as t,c as o,a as r,_ as s,d as n,u as i,b as u,e as d,r as p,s as c,f as m,E as f,g as v,w as g,h,v as w,i as b,j as x,k as _,p as y,l as j,m as V,n as z,t as C,q as k,x as M,y as R,z as q,A as E,B as A}from"./index.89c4a536.js";import{E as P}from"./el-row.589e4137.js";import{E as B}from"./el-col.1980009e.js";import{E as U,a as L}from"./el-form.49f8d7cd.js";import{E as Y}from"./el-button.ee77ba8f.js";import{E as F}from"./el-checkbox.bcb6e2a2.js";import"./el-form-item.e866842d.js";import{E as $}from"./el-input.344ef3e5.js";/* empty css                */import"./el-dropdown-item.fd9a20db.js";import"./el-popper.27b489eb.js";import"./event.e842ba5a.js";import"./index.0ddec936.js";import"./error.67356979.js";import"./index.0dfe2aba.js";import"./arrow-down.b0d54151.js";import"./typescript.f55dff19.js";import"./isEqual.f1aee1ae.js";import"./index.a744c982.js";import"./event.87cd92d6.js";import"./validator.0261e922.js";import"./index.4b6badd5.js";import"./isNil.aac33454.js";const H={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1em",height:"1em"},K=[r("path",{fill:"currentColor",d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12c5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4l1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"},null,-1)];var O={name:"ic-baseline-verified-user",render:function(e,a){return t(),o("svg",H,K)}};const I={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1em",height:"1em"},N=[r("path",{fill:"currentColor",d:"M12 3c5.392 0 9.878 3.88 10.819 9c-.94 5.12-5.427 9-10.819 9c-5.392 0-9.878-3.88-10.819-9C2.121 6.88 6.608 3 12 3zm0 16a9.005 9.005 0 0 0 8.777-7a9.005 9.005 0 0 0-17.554 0A9.005 9.005 0 0 0 12 19zm0-2.5a4.5 4.5 0 1 1 0-9a4.5 4.5 0 0 1 0 9zm0-2a2.5 2.5 0 1 0 0-5a2.5 2.5 0 0 0 0 5z"},null,-1)];var D={name:"ri-eye-line",render:function(e,a){return t(),o("svg",I,N)}};const G={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1em",height:"1em"},J=[r("path",{fill:"currentColor",d:"m9.342 18.782l-1.931-.518l.787-2.939a10.988 10.988 0 0 1-3.237-1.872l-2.153 2.154l-1.415-1.415l2.154-2.153a10.957 10.957 0 0 1-2.371-5.07l1.968-.359C3.903 10.812 7.579 14 12 14c4.42 0 8.097-3.188 8.856-7.39l1.968.358a10.957 10.957 0 0 1-2.37 5.071l2.153 2.153l-1.415 1.415l-2.153-2.154a10.988 10.988 0 0 1-3.237 1.872l.787 2.94l-1.931.517l-.788-2.94a11.072 11.072 0 0 1-3.74 0l-.788 2.94z"},null,-1)];var Q={name:"ri-eye-close-line",render:function(e,a){return t(),o("svg",G,J)}};const S={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1em",height:"1em"},T=[r("path",{fill:"currentColor",d:"M18 8h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h2V7a6 6 0 1 1 12 0v1zm-7 7.732V18h2v-2.268a2 2 0 1 0-2 0zM16 8V7a4 4 0 1 0-8 0v1h8z"},null,-1)];var W={name:"ri-lock2-fill",render:function(e,a){return t(),o("svg",S,T)}};const X={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1em",height:"1em"},Z=[r("path",{fill:"currentColor",d:"M20 22H4v-2a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5v2zm-8-9a6 6 0 1 1 0-12a6 6 0 0 1 0 12z"},null,-1)];var ee={name:"ri-user3-fill",render:function(e,a){return t(),o("svg",X,Z)}};const ae=e=>(y("data-v-5fcb3a34"),e=e(),j(),e),le=ae((()=>r("div",{class:"bg-banner"},null,-1))),te={id:"login-box"},oe=ae((()=>r("div",{class:"login-banner"},null,-1))),re={class:"title-container"},se={class:"title"},ne={class:"flex-bar"},ie=R("记住我"),ue=R("忘记密码"),de={style:{"margin-top":"20px","margin-bottom":"-10px",color:"#666","font-size":"14px","text-align":"center","font-weight":"bold"}},pe=ae((()=>r("span",{style:{"margin-right":"5px"}},"演示帐号一键登录：",-1))),ce=R("admin"),me=R("test"),fe=ae((()=>r("div",{class:"title-container"},[r("h3",{class:"title"},"重置密码")],-1))),ve=n({name:"Login"});var ge=s(Object.assign(ve,{setup(s){const{proxy:n}=A(),y=V(),j=z(),H=i(),K=u(),{t:I}=d(),N=p("login"),G=p({account:c.local.get("login_account"),password:"",remember:c.local.has("login_account")}),J=p({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]}),S=p({account:c.local.get("login_account"),captcha:"",newPassword:""}),T=p({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],captcha:[{required:!0,trigger:"blur",message:"请输入验证码"}],newPassword:[{required:!0,trigger:"blur",message:"请输入新密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]}),X=p(!1),Z=p("password"),ae=p(null);function ve(){Z.value="password"===Z.value?"":"password",q((()=>{n.$refs.password.focus()}))}function ge(){n.$refs.loginFormRef.validate((e=>{e&&(X.value=!0,K.login(G.value).then((()=>{X.value=!1,G.value.remember?c.local.set("login_account",G.value.account):c.local.remove("login_account"),j.push(ae.value)})).catch((()=>{X.value=!1})))}))}function he(){E({message:"重置密码仅提供界面演示，无实际功能，需开发者自行扩展",type:"info"}),n.$refs.resetFormRef.validate((e=>{}))}function we(e){G.value.account=e,G.value.password="123456",ge()}return m((()=>{var e;ae.value=null!=(e=y.query.redirect)?e:"/"})),(s,n)=>{const i=l,u=f,d=e,p=ee,c=$,m=U,y=W,j=Q,V=D,z=F,q=Y,E=L,A=O,K=B,ae=P,be=a;return t(),o("div",null,[le,v(d,{class:"i18n-selector"},{default:g((()=>[v(u,null,{default:g((()=>[v(i)])),_:1})])),_:1}),r("div",te,[oe,h(v(E,{ref:"loginFormRef",model:G.value,rules:J.value,class:"login-form",autocomplete:"on","label-position":"left"},{default:g((()=>[r("div",re,[r("h3",se,C(b("One-step-admin 专业版"))+"管理后台",1)]),r("div",null,[v(m,{prop:"account"},{default:g((()=>[v(c,{ref:"name",modelValue:G.value.account,"onUpdate:modelValue":n[0]||(n[0]=e=>G.value.account=e),placeholder:b(I)("app.account"),type:"text",tabindex:"1",autocomplete:"on"},{prefix:g((()=>[v(u,null,{default:g((()=>[v(p)])),_:1})])),_:1},8,["modelValue","placeholder"])])),_:1}),v(m,{prop:"password"},{default:g((()=>[v(c,{ref:"password",modelValue:G.value.password,"onUpdate:modelValue":n[1]||(n[1]=e=>G.value.password=e),type:Z.value,placeholder:b(I)("app.password"),tabindex:"2",autocomplete:"on",onKeyup:k(ge,["enter"])},{prefix:g((()=>[v(u,null,{default:g((()=>[v(y)])),_:1})])),suffix:g((()=>[v(u,{onClick:ve},{default:g((()=>[h(v(j,null,null,512),[[w,"password"===Z.value]]),h(v(V,null,null,512),[[w,"password"!==Z.value]])])),_:1})])),_:1},8,["modelValue","type","placeholder","onKeyup"])])),_:1})]),r("div",ne,[v(z,{modelValue:G.value.remember,"onUpdate:modelValue":n[2]||(n[2]=e=>G.value.remember=e)},{default:g((()=>[ie])),_:1},8,["modelValue"]),v(q,{type:"text",onClick:n[3]||(n[3]=e=>N.value="reset")},{default:g((()=>[ue])),_:1})]),v(q,{loading:X.value,type:"primary",size:"large",style:{width:"100%"},onClick:M(ge,["prevent"])},{default:g((()=>[R(C(b(I)("app.login")),1)])),_:1},8,["loading","onClick"]),r("div",de,[pe,v(q,{type:"danger",size:"small",onClick:n[4]||(n[4]=e=>we("admin"))},{default:g((()=>[ce])),_:1}),v(q,{type:"danger",size:"small",plain:"",onClick:n[5]||(n[5]=e=>we("test"))},{default:g((()=>[me])),_:1})])])),_:1},8,["model","rules"]),[[w,"login"==N.value]]),h(v(E,{ref:"resetFormRef",model:S.value,rules:T.value,class:"login-form","auto-complete":"on","label-position":"left"},{default:g((()=>[fe,r("div",null,[v(m,{prop:"account"},{default:g((()=>[v(c,{ref:"name",modelValue:S.value.account,"onUpdate:modelValue":n[6]||(n[6]=e=>S.value.account=e),placeholder:b(I)("app.account"),type:"text",tabindex:"1",autocomplete:"on"},{prefix:g((()=>[v(u,null,{default:g((()=>[v(p)])),_:1})])),_:1},8,["modelValue","placeholder"])])),_:1}),v(m,{prop:"captcha"},{default:g((()=>[v(c,{ref:"captcha",modelValue:S.value.captcha,"onUpdate:modelValue":n[7]||(n[7]=e=>S.value.captcha=e),placeholder:b(I)("app.captcha"),type:"text",tabindex:"2",autocomplete:"on"},{prefix:g((()=>[v(u,null,{default:g((()=>[v(A)])),_:1})])),append:g((()=>[v(q,null,{default:g((()=>[R(C(b(I)("app.sendCaptcha")),1)])),_:1})])),_:1},8,["modelValue","placeholder"])])),_:1}),v(m,{prop:"newPassword"},{default:g((()=>[v(c,{ref:"newPassword",modelValue:S.value.newPassword,"onUpdate:modelValue":n[8]||(n[8]=e=>S.value.newPassword=e),type:Z.value,placeholder:b(I)("app.newPassword"),tabindex:"3",autocomplete:"on"},{prefix:g((()=>[v(u,null,{default:g((()=>[v(y)])),_:1})])),suffix:g((()=>[v(u,{onClick:ve},{default:g((()=>[h(v(j,null,null,512),[[w,"password"===Z.value]]),h(v(V,null,null,512),[[w,"password"!==Z.value]])])),_:1})])),_:1},8,["modelValue","type","placeholder"])])),_:1})]),v(ae,{gutter:15,style:{"padding-top":"20px"}},{default:g((()=>[v(K,{md:6},{default:g((()=>[v(q,{size:"large",style:{width:"100%"},onClick:n[9]||(n[9]=e=>N.value="login")},{default:g((()=>[R(C(b(I)("app.goLogin")),1)])),_:1})])),_:1}),v(K,{md:18},{default:g((()=>[v(q,{loading:X.value,type:"primary",size:"large",style:{width:"100%"},onClick:M(he,["prevent"])},{default:g((()=>[R(C(b(I)("app.check")),1)])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["model","rules"]),[[w,"reset"==N.value]])]),b(H).copyright.enable?(t(),x(be,{key:0})):_("v-if",!0)])}}}),[["__scopeId","data-v-5fcb3a34"]]);export{ge as default};
