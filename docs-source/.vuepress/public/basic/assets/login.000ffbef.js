
/**
 * 由 One-step-admin 提供技术支持
 * Powered by One-step-admin
 * https://one-step-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/one-step-admin
 * Github https://github.com/hooray/one-step-admin
 */
    
import{_ as e}from"./index.6ff8de4c.js";import{d as a,u as l,a as o,r as t,o as s,E as r,c as n,b as u,w as d,v as i,e as c,f as p,g as m,h as f,i as g,p as v,j as b,k as _,l as x,m as w,t as y,n as h,q as j,s as V,x as k,y as C,z as q}from"./index.1b2a4798.js";import{E}from"./el-row.5cde42b3.js";import{E as z}from"./el-col.ccd4ed92.js";import{E as P,a as U}from"./el-form.79007a5e.js";import{E as S}from"./el-button.a29297df.js";import{E as F}from"./el-checkbox.0b8c318b.js";import"./el-form-item.e866842d.js";import{E as R}from"./el-input.2b6dddff.js";/* empty css                */import{_ as I}from"./index.373c9150.js";/* empty css                   */import{_ as $}from"./plugin-vue_export-helper.21dcd24c.js";import"./typescript.b0ac2d0c.js";import"./index.c8167427.js";import"./error.b438369f.js";import"./isEqual.ccc3f523.js";import"./index.48ef7773.js";import"./event.75bf56a9.js";import"./validator.659ac956.js";import"./index.ab0ffd8a.js";import"./isNil.aac33454.js";const K=e=>(v("data-v-69402aad"),e=e(),b(),e),O=K((()=>u("div",{class:"bg-banner"},null,-1))),L={id:"login-box"},N=K((()=>u("div",{class:"login-banner"},null,-1))),A={class:"title-container"},B={class:"title"},D={class:"flex-bar"},G=V("记住我"),H=V("忘记密码"),J=V("登 录"),M={style:{"margin-top":"20px","margin-bottom":"-10px",color:"#666","font-size":"14px","text-align":"center","font-weight":"bold"}},Q=K((()=>u("span",{style:{"margin-right":"5px"}},"演示帐号一键登录：",-1))),T=V("admin"),W=V("test"),X=K((()=>u("div",{class:"title-container"},[u("h3",{class:"title"},"重置密码")],-1))),Y=V("发送验证码"),Z=V("去登录"),ee=V("确认"),ae=a({name:"Login"});var le=$(Object.assign(ae,{setup(a){const{proxy:v}=q(),b=_(),V=x(),$=l(),K=o(),ae=t("login"),le=t({account:localStorage.login_account||"",password:"",remember:!!localStorage.login_account}),oe=t({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]}),te=t({account:localStorage.login_account||"",captcha:"",newPassword:""}),se=t({account:[{required:!0,trigger:"blur",message:"请输入用户名"}],captcha:[{required:!0,trigger:"blur",message:"请输入验证码"}],newPassword:[{required:!0,trigger:"blur",message:"请输入新密码"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}]}),re=t(!1),ne=t("password"),ue=t(null);function de(){ne.value="password"===ne.value?"":"password",k((()=>{v.$refs.password.focus()}))}function ie(){v.$refs.loginFormRef.validate((e=>{e&&(re.value=!0,K.login(le.value).then((()=>{re.value=!1,le.value.remember?localStorage.setItem("login_account",le.value.account):localStorage.removeItem("login_account"),V.push(ue.value)})).catch((()=>{re.value=!1})))}))}function ce(){C({message:"重置密码仅提供界面演示，无实际功能，需开发者自行扩展",type:"info"}),v.$refs.resetFormRef.validate((e=>{}))}function pe(e){le.value.account=e,le.value.password="123456",ie()}return s((()=>{var e;ue.value=null!=(e=b.query.redirect)?e:"/"})),(a,l)=>{const o=I,t=r,s=R,v=P,b=F,_=S,x=U,V=z,k=E,C=e;return w(),n("div",null,[O,u("div",L,[N,d(c(x,{ref:"loginFormRef",model:le.value,rules:oe.value,class:"login-form",autocomplete:"on","label-position":"left"},{default:p((()=>[u("div",A,[u("h3",B,y(m("One-step-admin 基础版"))+"管理后台",1)]),u("div",null,[c(v,{prop:"account"},{default:p((()=>[c(s,{ref:"name",modelValue:le.value.account,"onUpdate:modelValue":l[0]||(l[0]=e=>le.value.account=e),placeholder:"用户名",type:"text",tabindex:"1",autocomplete:"on"},{prefix:p((()=>[c(t,null,{default:p((()=>[c(o,{name:"user"})])),_:1})])),_:1},8,["modelValue"])])),_:1}),c(v,{prop:"password"},{default:p((()=>[c(s,{ref:"password",modelValue:le.value.password,"onUpdate:modelValue":l[1]||(l[1]=e=>le.value.password=e),type:ne.value,placeholder:"密码",tabindex:"2",autocomplete:"on",onKeyup:h(ie,["enter"])},{prefix:p((()=>[c(t,null,{default:p((()=>[c(o,{name:"password"})])),_:1})])),suffix:p((()=>[c(t,null,{default:p((()=>[c(o,{name:"password"===ne.value?"eye":"eye-open",onClick:de},null,8,["name"])])),_:1})])),_:1},8,["modelValue","type","onKeyup"])])),_:1})]),u("div",D,[c(b,{modelValue:le.value.remember,"onUpdate:modelValue":l[2]||(l[2]=e=>le.value.remember=e)},{default:p((()=>[G])),_:1},8,["modelValue"]),c(_,{type:"text",onClick:l[3]||(l[3]=e=>ae.value="reset")},{default:p((()=>[H])),_:1})]),c(_,{loading:re.value,type:"primary",size:"large",style:{width:"100%"},onClick:j(ie,["prevent"])},{default:p((()=>[J])),_:1},8,["loading","onClick"]),u("div",M,[Q,c(_,{type:"danger",size:"small",onClick:l[4]||(l[4]=e=>pe("admin"))},{default:p((()=>[T])),_:1}),c(_,{type:"danger",size:"small",plain:"",onClick:l[5]||(l[5]=e=>pe("test"))},{default:p((()=>[W])),_:1})])])),_:1},8,["model","rules"]),[[i,"login"==ae.value]]),d(c(x,{ref:"resetFormRef",model:te.value,rules:se.value,class:"login-form","auto-complete":"on","label-position":"left"},{default:p((()=>[X,u("div",null,[c(v,{prop:"account"},{default:p((()=>[c(s,{ref:"name",modelValue:te.value.account,"onUpdate:modelValue":l[6]||(l[6]=e=>te.value.account=e),placeholder:"用户名",type:"text",tabindex:"1",autocomplete:"on"},{prefix:p((()=>[c(t,null,{default:p((()=>[c(o,{name:"user"})])),_:1})])),_:1},8,["modelValue"])])),_:1}),c(v,{prop:"captcha"},{default:p((()=>[c(s,{ref:"captcha",modelValue:te.value.captcha,"onUpdate:modelValue":l[7]||(l[7]=e=>te.value.captcha=e),placeholder:"验证码",type:"text",tabindex:"2",autocomplete:"on"},{prefix:p((()=>[c(t,null,{default:p((()=>[c(o,{name:"captcha"})])),_:1})])),append:p((()=>[c(_,null,{default:p((()=>[Y])),_:1})])),_:1},8,["modelValue"])])),_:1}),c(v,{prop:"newPassword"},{default:p((()=>[c(s,{ref:"newPassword",modelValue:te.value.newPassword,"onUpdate:modelValue":l[8]||(l[8]=e=>te.value.newPassword=e),type:ne.value,placeholder:"新密码",tabindex:"3",autocomplete:"on"},{prefix:p((()=>[c(t,null,{default:p((()=>[c(o,{name:"password"})])),_:1})])),suffix:p((()=>[c(t,null,{default:p((()=>[c(o,{name:"password"===ne.value?"eye":"eye-open",onClick:de},null,8,["name"])])),_:1})])),_:1},8,["modelValue","type"])])),_:1})]),c(k,{gutter:15,style:{"padding-top":"20px"}},{default:p((()=>[c(V,{md:6},{default:p((()=>[c(_,{size:"large",style:{width:"100%"},onClick:l[9]||(l[9]=e=>ae.value="login")},{default:p((()=>[Z])),_:1})])),_:1}),c(V,{md:18},{default:p((()=>[c(_,{loading:re.value,type:"primary",size:"large",style:{width:"100%"},onClick:j(ce,["prevent"])},{default:p((()=>[ee])),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["model","rules"]),[[i,"reset"==ae.value]])]),m($).copyright.enable?(w(),f(C,{key:0})):g("v-if",!0)])}}}),[["__scopeId","data-v-69402aad"]]);export{le as default};
