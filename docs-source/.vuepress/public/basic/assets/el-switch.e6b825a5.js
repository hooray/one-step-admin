
/**
 * 由 One-step-admin 提供技术支持
 * Powered by One-step-admin
 * https://one-step-admin.netlify.app
 * 代码仓库
 * Gitee  https://gitee.com/hooray/one-step-admin
 * Github https://github.com/hooray/one-step-admin
 */
    
import{A as e,aa as a,B as i,T as t,R as n,af as s,d as l,E as c,ab as o,D as r,C as d,r as v,a5 as u,U as h,o as f,_ as p,y as m,bj as y,aX as b,b as k,c as g,e as C,F as w,n as I,i as x,h as V,a7 as S,j as T,t as B,a2 as j,g as _,H as E,q as N,I as P}from"./index.eaca9d64.js";import{i as D}from"./validator2.1a757222.js";import{U as K,C as F,I as U}from"./event2.aca9aa52.js";import{a as q,b as z}from"./index2.200c9b4b.js";import{c as A,u as H}from"./index2.fa9449b9.js";import{d as L,t as R}from"./error2.8f448c70.js";const X=e({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:a,default:""},inactiveIcon:{type:a,default:""},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:i(Function)},size:{type:String,validator:D}}),G=l({name:"ElSwitch",components:{ElIcon:c,Loading:o},props:X,emits:{[K]:e=>t(e)||n(e)||s(e),[F]:e=>t(e)||n(e)||s(e),[U]:e=>t(e)||n(e)||s(e)},setup(e,{emit:a}){const{formItem:i}=q(),n=A(r((()=>e.loading))),s=d("switch"),{inputId:l}=z(e,{formItemContext:i}),c=H(),o=v(!1!==e.modelValue),p=v(),b=v(),k=r((()=>[s.b(),s.m(c.value),s.is("disabled",n.value),s.is("checked",w.value)])),g=r((()=>({width:u(e.width)})));h((()=>e.modelValue),(()=>{o.value=!0})),h((()=>e.value),(()=>{o.value=!1}));const C=r((()=>o.value?e.modelValue:e.value)),w=r((()=>C.value===e.activeValue));[e.activeValue,e.inactiveValue].includes(C.value)||(a(K,e.inactiveValue),a(F,e.inactiveValue),a(U,e.inactiveValue)),h(w,(()=>{var a;p.value.checked=w.value,(e.activeColor||e.inactiveColor)&&x(),e.validateEvent&&(null==(a=null==i?void 0:i.validate)||a.call(i,"change").catch((e=>L())))}));const I=()=>{const i=w.value?e.inactiveValue:e.activeValue;a(K,i),a(F,i),a(U,i),m((()=>{p.value.checked=w.value}))},x=()=>{const a=w.value?e.activeColor:e.inactiveColor,i=b.value;e.borderColor?i.style.borderColor=e.borderColor:e.borderColor||(i.style.borderColor=a),i.style.backgroundColor=a,i.children[0].style.color=a};return f((()=>{(e.activeColor||e.inactiveColor||e.borderColor)&&x(),p.value.checked=w.value})),{ns:s,input:p,inputId:l,core:b,switchDisabled:n,checked:w,switchKls:k,coreStyle:g,handleChange:I,switchValue:()=>{if(n.value)return;const{beforeChange:a}=e;if(!a)return void I();const i=a();[y(i),t(i)].some((e=>e))||R("ElSwitch","beforeChange must return type `Promise<boolean>` or `boolean`"),y(i)?i.then((e=>{e&&I()})).catch((e=>{})):i&&I()},focus:()=>{var e,a;null==(a=null==(e=p.value)?void 0:e.focus)||a.call(e)}}}}),J=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled"],M=["aria-hidden"],O=["aria-hidden"],Q=["aria-hidden"],W=["aria-hidden"];const Y=P(p(G,[["render",function(e,a,i,t,n,s){const l=b("el-icon"),c=b("loading");return k(),g("div",{class:w(e.switchKls),onClick:a[2]||(a[2]=N(((...a)=>e.switchValue&&e.switchValue(...a)),["prevent"]))},[C("input",{id:e.inputId,ref:"input",class:w(e.ns.e("input")),type:"checkbox",role:"switch","aria-checked":e.checked,"aria-disabled":e.switchDisabled,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:e.switchDisabled,onChange:a[0]||(a[0]=(...a)=>e.handleChange&&e.handleChange(...a)),onKeydown:a[1]||(a[1]=I(((...a)=>e.switchValue&&e.switchValue(...a)),["enter"]))},null,42,J),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?T("v-if",!0):(k(),g("span",{key:0,class:w([e.ns.e("label"),e.ns.em("label","left"),e.ns.is("active",!e.checked)])},[e.inactiveIcon?(k(),x(l,{key:0},{default:V((()=>[(k(),x(S(e.inactiveIcon)))])),_:1})):T("v-if",!0),!e.inactiveIcon&&e.inactiveText?(k(),g("span",{key:1,"aria-hidden":e.checked},B(e.inactiveText),9,M)):T("v-if",!0)],2)),C("span",{ref:"core",class:w(e.ns.e("core")),style:E(e.coreStyle)},[e.inlinePrompt?(k(),g("div",{key:0,class:w(e.ns.e("inner"))},[e.activeIcon||e.inactiveIcon?(k(),g(j,{key:0},[e.activeIcon?(k(),x(l,{key:0,class:w([e.ns.is("icon"),e.checked?e.ns.is("show"):e.ns.is("hide")])},{default:V((()=>[(k(),x(S(e.activeIcon)))])),_:1},8,["class"])):T("v-if",!0),e.inactiveIcon?(k(),x(l,{key:1,class:w([e.ns.is("icon"),e.checked?e.ns.is("hide"):e.ns.is("show")])},{default:V((()=>[(k(),x(S(e.inactiveIcon)))])),_:1},8,["class"])):T("v-if",!0)],64)):e.activeText||e.inactiveIcon?(k(),g(j,{key:1},[e.activeText?(k(),g("span",{key:0,class:w([e.ns.is("text"),e.checked?e.ns.is("show"):e.ns.is("hide")]),"aria-hidden":!e.checked},B(e.activeText.substring(0,3)),11,O)):T("v-if",!0),e.inactiveText?(k(),g("span",{key:1,class:w([e.ns.is("text"),e.checked?e.ns.is("hide"):e.ns.is("show")]),"aria-hidden":e.checked},B(e.inactiveText.substring(0,3)),11,Q)):T("v-if",!0)],64)):T("v-if",!0)],2)):T("v-if",!0),C("div",{class:w(e.ns.e("action"))},[e.loading?(k(),x(l,{key:0,class:w(e.ns.is("loading"))},{default:V((()=>[_(c)])),_:1},8,["class"])):T("v-if",!0)],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?T("v-if",!0):(k(),g("span",{key:1,class:w([e.ns.e("label"),e.ns.em("label","right"),e.ns.is("active",e.checked)])},[e.activeIcon?(k(),x(l,{key:0},{default:V((()=>[(k(),x(S(e.activeIcon)))])),_:1})):T("v-if",!0),!e.activeIcon&&e.activeText?(k(),g("span",{key:1,"aria-hidden":!e.checked},B(e.activeText),9,W)):T("v-if",!0)],2))],2)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]));export{Y as E};
