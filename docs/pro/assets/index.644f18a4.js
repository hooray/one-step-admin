
/**
 * 由 Fantastic-admin-discovery 提供技术支持
 * https://hooray.gitee.io/fantastic-admin-discovery/
 * Powered by Fantastic-admin-discovery
 * https://hooray.github.io/fantastic-admin-discovery/
 */
    
import{_ as H}from"./index.beb86979.js";import{w as F,u as P,$ as D,a0 as J,h as K,p as q,r as G,I as Q,J as g,l as d,V as U,i as R,M as $,k as X,o as E}from"./vendor.6b4522dc.js";import Y from"./index.3bb75064.js";import Z from"./index.2660f4f3.js";import ee from"./index.42fecfba.js";import te from"./index.1f25c2d5.js";import ae from"./index.d250db12.js";import re from"./index.29385186.js";import oe from"./index.abe788c3.js";import ne from"./index.bd487a9d.js";import{_ as me}from"./plugin-vue_export-helper.5a098b48.js";import"./index.7fb28950.js";import"./index.e3965937.js";import"./logo.96f1da49.js";import"./index.850fd66a.js";import"./index.4fff6553.js";import"./index.6bb71aca.js";import"./index.fe95d298.js";import"./index.217421a8.js";import"./index.e12b5bf9.js";import"./index.e01cfd04.js";var y={},T=!1,e={watermark_id:"wm_div_id",watermark_prefix:"mask_div_id",watermark_txt:"\u6D4B\u8BD5\u6C34\u5370",watermark_x:20,watermark_y:20,watermark_rows:0,watermark_cols:0,watermark_x_space:50,watermark_y_space:50,watermark_font:"\u5FAE\u8F6F\u96C5\u9ED1",watermark_color:"black",watermark_fontsize:"18px",watermark_alpha:.15,watermark_width:100,watermark_height:100,watermark_angle:15,watermark_parent_width:0,watermark_parent_height:0,watermark_parent_node:null,monitor:!0};const N=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;var ie=function(t){if(T){T=!1;return}(k&&t.length===1||t.length===1&&t[0].removedNodes.length>=1)&&c(k)},L=N!==void 0,j=L?new N(ie):null,W={childList:!0,attributes:!0,subtree:!0},c=function(t){if(arguments.length===1&&typeof arguments[0]=="object"){var a=arguments[0]||{};for(let l in a)a[l]&&e[l]&&a[l]===e[l]||(a[l]||a[l]===0)&&(e[l]=a[l])}var n=document.getElementById(e.watermark_id);n&&n.parentNode&&n.parentNode.removeChild(n);var o=document.getElementById(e.watermark_parent_node),m=o||document.body,_=Math.max(m.scrollWidth,m.clientWidth),i=Math.max(m.scrollHeight,m.clientHeight),S=arguments[0]||{},w=m,p=0,h=0;S.watermark_parent_width||S.watermark_parent_height?w&&(p=w.offsetTop||0,h=w.offsetLeft||0,e.watermark_x=e.watermark_x+h,e.watermark_y=e.watermark_y+p):w&&(p=w.offsetTop||0,h=w.offsetLeft||0);var s=document.getElementById(e.watermark_id),v=null;if(s)s.shadowRoot&&(v=s.shadowRoot);else{s=document.createElement("div"),s.id=e.watermark_id,s.setAttribute("style","pointer-events: none !important; display: block !important"),typeof s.attachShadow=="function"?v=s.attachShadow({mode:"open"}):v=s;var C=m.children,z=Math.floor(Math.random()*(C.length-1));C[z]?m.insertBefore(s,C[z]):m.appendChild(s)}e.watermark_cols=parseInt((_-e.watermark_x)/(e.watermark_width+e.watermark_x_space));var O=parseInt((_-e.watermark_x-e.watermark_width*e.watermark_cols)/e.watermark_cols);e.watermark_x_space=O&&e.watermark_x_space;var b;e.watermark_rows=parseInt((i-e.watermark_y)/(e.watermark_height+e.watermark_y_space));var V=parseInt((i-e.watermark_y-e.watermark_height*e.watermark_rows)/e.watermark_rows);e.watermark_y_space=V&&e.watermark_y_space;var x;o?(b=e.watermark_x+e.watermark_width*e.watermark_cols+e.watermark_x_space*(e.watermark_cols-1),x=e.watermark_y+e.watermark_height*e.watermark_rows+e.watermark_y_space*(e.watermark_rows-1)):(b=h+e.watermark_x+e.watermark_width*e.watermark_cols+e.watermark_x_space*(e.watermark_cols-1),x=p+e.watermark_y+e.watermark_height*e.watermark_rows+e.watermark_y_space*(e.watermark_rows-1));for(var I,B,f=0;f<e.watermark_rows;f++){o?B=p+e.watermark_y+(i-x)/2+(e.watermark_y_space+e.watermark_height)*f:B=e.watermark_y+(i-x)/2+(e.watermark_y_space+e.watermark_height)*f;for(var u=0;u<e.watermark_cols;u++){o?I=h+e.watermark_x+(_-b)/2+(e.watermark_width+e.watermark_x_space)*u:I=e.watermark_x+(_-b)/2+(e.watermark_width+e.watermark_x_space)*u;var r=document.createElement("div"),A=document.createTextNode(e.watermark_txt);r.appendChild(A),r.id=e.watermark_prefix+f+u,r.style.webkitTransform="rotate(-"+e.watermark_angle+"deg)",r.style.MozTransform="rotate(-"+e.watermark_angle+"deg)",r.style.msTransform="rotate(-"+e.watermark_angle+"deg)",r.style.OTransform="rotate(-"+e.watermark_angle+"deg)",r.style.transform="rotate(-"+e.watermark_angle+"deg)",r.style.visibility="",r.style.position="absolute",r.style.left=I+"px",r.style.top=B+"px",r.style.overflow="hidden",r.style.zIndex="9999999",r.style.opacity=e.watermark_alpha,r.style.fontSize=e.watermark_fontsize,r.style.fontFamily=e.watermark_font,r.style.color=e.watermark_color,r.style.textAlign="center",r.style.width=e.watermark_width+"px",r.style.height=e.watermark_height+"px",r.style.display="block",r.style["-ms-user-select"]="none",v.appendChild(r)}}(t.monitor===void 0?e.monitor:t.monitor)&&L&&(j.observe(m,W),j.observe(document.getElementById(e.watermark_id).shadowRoot,W))},se=function(){if(arguments.length===1&&typeof arguments[0]=="object"){var t=arguments[0]||{};for(let o in t)t[o]&&e[o]&&t[o]===e[o]||(t[o]||t[o]===0)&&(e[o]=t[o])}var a=document.getElementById(e.watermark_id),n=a.parentNode;n.removeChild(a),j.disconnect()},k;y.init=function(t){k=t,c(t),window.addEventListener("onload",function(){c(t)}),window.addEventListener("resize",function(){c(t)})};y.load=function(t){k=t,c(t)};y.remove=function(){T=!0,se()};var _e=function(t){var a=document.getElementById(e.watermark_parent_node),n=a||document.body,o=document.getElementById(e.watermark_id);if((o===t[0].target||n===t[0].target)&&(k&&t.length===1||t.length===1&&t[0].removedNodes.length>=1)){c(k);return}if(a){var m=getComputedStyle(a).getPropertyValue("width"),_=getComputedStyle(a).getPropertyValue("height");(m!==M.width||_!==M.height)&&(M.width=m,M.height=_,c(k))}};j=new N(_e);W={childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"],attributeOldValue:!0};var M={width:0,height:0};const we=t=>{F(()=>t.state.settings.enableWatermark,o=>{o?a():n()},{immediate:!0});function a(){y.init({watermark_txt:`Fantastic-admin \u6C34\u5370\u6D4B\u8BD5 ${t.state.user.account}`,watermark_width:150,watermark_x:0,watermark_y:0,watermark_x_space:50,watermark_y_space:50,watermark_alpha:.1})}function n(){try{y.remove()}catch(o){}}return{loadWatermark:a,removeWatermark:n}};const le={class:"layout"},de={id:"app-main"},pe={class:"wrapper"},ce={class:"sidebar-container"},ke={class:"main"},he={setup(t){const a=P(),n=D(),o=J();we(a);const m=K(()=>typeof n.meta.copyright!="undefined"?n.meta.copyright:a.state.settings.showCopyright);q("switchMenu",_);function _(i){a.commit("menu/switchHeaderActived",i),a.state.settings.switchSidebarAndPageJump&&o.push(a.getters["menu/sidebarMenus"][0].path)}return(i,S)=>{const w=H,p=G("el-backtop");return E(),Q("div",le,[g("div",de,[d(Y),g("div",pe,[g("div",ce,[d(Z),d(ee)]),g("div",{class:"main-container",style:U({"padding-bottom":i.$route.meta.paddingBottom})},[i.$store.state.settings.menuMode==="head"&&!i.$store.state.settings.enableSidebarCollapse||i.$store.state.settings.menuMode==="only-head"?$("v-if",!0):(E(),R(te,{key:0})),g("div",ke,[d(ae)]),X(m)?(E(),R(w,{key:1})):$("v-if",!0)],4)]),d(p,{right:20,bottom:20,title:"\u56DE\u5230\u9876\u90E8"})]),d(re),d(oe),d(ne)])}}};var Le=me(he,[["__scopeId","data-v-1ed89d3a"]]);export{Le as default};
